<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="index,nofollow">

<title>LMP/8 - wikidyd - IETiSIP, Wydzial Elektryczny Politechniki Warszawskiej</title>
<script type="text/javascript" src="LMP_8%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="LMP_8%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="LMP_8%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="LMP_8%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="LMP_8%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static193/rightsidebar/css/msie.css">
<![endif]-->





<link rel="Start" href="http://wikidyd.iem.pw.edu.pl/WikiDyd">
<link rel="Alternate" title="Wiki Markup" href="http://wikidyd.iem.pw.edu.pl/LMP/8?action=raw">
<link rel="Alternate" media="print" title="Print View" href="http://wikidyd.iem.pw.edu.pl/LMP/8?action=print">
<link rel="Up" href="http://wikidyd.iem.pw.edu.pl/LMP">
<link rel="Appendix" title="lmp8.tgz" href="http://wikidyd.iem.pw.edu.pl/LMP/8?action=AttachFile&amp;do=view&amp;target=lmp8.tgz">
<link rel="Search" href="http://wikidyd.iem.pw.edu.pl/FindPage">
<link rel="Index" href="http://wikidyd.iem.pw.edu.pl/TitleIndex">
<link rel="Glossary" href="http://wikidyd.iem.pw.edu.pl/WordIndex">
<link rel="Help" href="http://wikidyd.iem.pw.edu.pl/HelpOnFormatting">
</head>

<body dir="ltr" lang="en">

<div id="header">

<form id="searchform" method="get" action="/LMP/8">
<div>
<input name="action" value="fullsearch" type="hidden">
<input name="context" value="180" type="hidden">
<label style="display: none;" for="searchinput">Search:</label>
<input class="disabled" id="searchinput" name="value" value="Search" size="20" onfocus="searchFocus(this)" onblur="searchBlur(this)" onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search" type="text">
<input disabled="disabled" id="titlesearch" name="titlesearch" value="Titles" alt="Search Titles" type="submit">
<input disabled="disabled" id="fullsearch" name="fullsearch" value="Text" alt="Search Full Text" type="submit">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>


<div id="locationline">
<div id="interwiki"><span><a href="http://wikidyd.iem.pw.edu.pl/WikiDyd" rel="nofollow">wikidyd - IETiSIP, Wydzial Elektryczny Politechniki Warszawskiej</a></span></div>

<ul id="pagelocation">
<li><a href="http://wikidyd.iem.pw.edu.pl/LMP">LMP</a></li><li><a class="backlink" href="http://wikidyd.iem.pw.edu.pl/LMP/8?action=fullsearch&amp;context=180&amp;value=linkto%3A%22LMP%2F8%22" rel="nofollow" title="Click to do a full-text search for this title">8</a></li>
</ul>

</div>

</div>

<div id="sidebar">
<div class="sidepanel">
<h1>Wiki</h1>

<ul id="navibar">
<li class="wikilink"><a href="http://wikidyd.iem.pw.edu.pl/RecentChanges">RecentChanges</a></li><li class="wikilink"><a href="http://wikidyd.iem.pw.edu.pl/FindPage">FindPage</a></li><li class="wikilink"><a href="http://wikidyd.iem.pw.edu.pl/HelpContents">HelpContents</a></li><li class="current"><a href="http://wikidyd.iem.pw.edu.pl/LMP/8">LMP/8</a></li>
</ul>

</div>
<div class="sidepanel">
<h1>Page</h1>
<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li class="toggleCommentsButton" style=""><a href="#" class="nbcomment" onclick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="http://wikidyd.iem.pw.edu.pl/LMP/8?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="http://wikidyd.iem.pw.edu.pl/LMP/8?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="/LMP/8">
<div>
    
    <select name="action" onchange="if ((this.selectedIndex != 0) &amp;&amp;
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option selected="selected" value="show">More Actions:</option><option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled="disabled" class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled="disabled" class="disabled">------------------------</option>
<option value="RenamePage" disabled="disabled" class="disabled">Rename Page</option>
<option value="DeletePage" disabled="disabled" class="disabled">Delete Page</option>
<option value="show" disabled="disabled" class="disabled">------------------------</option>
<option value="show" disabled="disabled" class="disabled">Subscribe User</option>
<option value="show" disabled="disabled" class="disabled">------------------------</option>
<option value="show" disabled="disabled" class="disabled">Remove Spam</option>
<option value="show" disabled="disabled" class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled="disabled" class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>
<div class="sidepanel">
<h1>User</h1>
<ul id="username"><li><a href="http://wikidyd.iem.pw.edu.pl/LMP/8?action=login" id="login" rel="nofollow">Login</a></li></ul>
</div>
</div>

<div id="page" dir="ltr" lang="en">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><div><table><tbody><tr>  <td style="border-width: 0px; ; width: 66%"><p class="line862">Materiały zostały opracowane w ramach realizacji Programu Rozwojowego Politechniki Warszawskiej. </p></td>
  <td style="border-width: 0px;  text-align: right;"><p class="line862"> <img alt="http://prpw.iem.pw.edu.pl/images/KAPITAL_LUDZKI.gif" class="external_image" src="LMP_8%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/KAPITAL_LUDZKI.gif" title="http://prpw.iem.pw.edu.pl/images/KAPITAL_LUDZKI.gif"> <img alt="http://prpw.iem.pw.edu.pl/images/EU+EFS_P-kolor.gif" class="external_image" src="LMP_8%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/EUEFS_P-kolor.gif" title="http://prpw.iem.pw.edu.pl/images/EU+EFS_P-kolor.gif"> </p></td>
</tr>
<tr>  <td colspan="2" style="border-width: 0px;  text-align: center;"><span class="anchor" id="line-2"></span><p class="line891"><small><a class="http" href="http://www.pr.pw.edu.pl/"><img alt="http://www.pr.pw.edu.pl/" class="external_image" src="LMP_8%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/small_logo_prpw.jpg" title="http://www.pr.pw.edu.pl/"></a> jest projektem współfinansowanym przez Unię Europejską w ramach <a class="http" href="http://www.efs.gov.pl/">Europejskiego Funduszu społecznego</a>
 (działanie 4.1.1 Programu Operacyjnego Kapitał Ludzki) i ma na celu 
poprawę jakości kształcenia oraz dostosowanie oferty dydaktycznej 
Politechniki Warszawskiej do potrzeb rynku pracy. Będzie on realizowany 
przez Uczelnię w latach 2008-2015.</small> </p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-3"></span><p class="line867"></p><hr class="hr4"><p class="line874"> <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span></p><p class="line867">
</p><h3 id="Laboratorium_metodyki_programowania">Laboratorium metodyki programowania</h3>
<span class="anchor" id="line-6"></span><p class="line867">
</p><h2 id="A.2BAQY-wiczenie_8:_Modularna_budowa_programu">Ćwiczenie 8: Modularna budowa programu</h2>
<span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><p class="line867">
</p><h4 id="Scenariusz">Scenariusz</h4>
<span class="anchor" id="line-9"></span><p class="line874">Ćwiczenie wykonywane w parach. <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span></p><ol type="a"><li>Studenci logują się do systemu LOP (Laboratorium Otwartego Programowania). <span class="anchor" id="line-12"></span></li><li>Studenci przechodzą do katalogu roboczego dla zajęć LMP. <span class="anchor" id="line-13"></span></li><li>Studenci pobierają z repozytorium kod programów. <span class="anchor" id="line-14"></span></li><li>Po wyjaśnieniach prowadzącego przystępują do analizy problemu i podziału zadań. <span class="anchor" id="line-15"></span></li><li>Studenci programują według wskazówek prowadzącego (patrz opis szczegółowy).  <span class="anchor" id="line-16"></span></li></ol><p class="line867">
</p><h4 id="Opis_szczeg.2BAPMBQg-owy">Opis szczegółowy</h4>
<span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><p class="line874">W
 trakcie zajęć nauczymy się metod radzenia sobie ze złożonością 
większych programów oraz zapoznamy się z problemami występującymi przy 
współpracy nad tworzeniem programu. <span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span></p><p class="line867">
</p><h5 id="Rozpocz.2BARk-cie_pracy">Rozpoczęcie pracy</h5>
<span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><p class="line862">Zajęcia
 będą prowadzone na komputerze stud.iem.pw.edu.pl. W celu rozpoczęcia 
pracy należy zalogować się na tym komputerze za pomocą usługi ssh. Można
 w tym celu wykorzystać albo dostępny w każdym praktycznie systemie 
Unix/Linux program <a class="http" href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh</a> albo klienta SSH dla systemu Windows - <a class="http" href="http://www.chiark.greenend.org.uk/%7Esgtatham/putty/">PuTTY</a>.
 Na maszynach studenckich w IETiSIP PW można podnieść różne dystrybucje 
Uniksa/Linuksa lub system Windows, ale w każdej z nich jest 
zainstalowane oprogramowanie ssh.  <span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span></p><p class="line874">Do
 logowania na maszynie stud.iem.pw.edu.pl należy użyć takiego samego 
loginu i hasła jakie wykorzystywane sa do dostępu do usług wydziałowych 
(poczta, e-dziekanat, itd.). <span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span></p><p class="line862">Po zalogowaniu się należy przejść do <a href="http://wikidyd.iem.pw.edu.pl/LMP/1">utworzonego na pierwszych zajęciach</a> katalogu lmp: <span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span></p><pre><span class="anchor" id="line-1"></span> cd lmp</pre><span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><p class="line867"><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span></p><div class="comment" style="display:none"><span class="anchor" id="line-1-1"></span><p class="line867"><a href="http://wikidyd.iem.pw.edu.pl/LMP/8/SVN">Pobranie kodu z repozytorium svn</a> </p></div><span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><p class="line867">
</p><h5 id="Kod_so_zaj.2BARkBBw-">Kod so zajęć</h5>
<span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><p class="line867"><a class="attachment" href="http://wikidyd.iem.pw.edu.pl/LMP/8?action=AttachFile&amp;do=view&amp;target=lmp8.tgz" title="">lmp8.tgz</a> <span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span></p><p class="line867">
</p><h5 id="Zadanie">Zadanie</h5>
<span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><p class="line874">Proszę zaprojektować i wykonać program wypisujący drzewo wywołań funkcji na podstawie analizy programu w języku C. <span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span></p><p class="line874">Program
 ma być wywoływany z listą argumentów - nazw plików zawierających kod w 
jęz. C. Program ma czytać te pliki i na ich podstawie budować strukturę 
danych określającą z jakich funkcji składa się analizowany kod i jak te 
funkcje są powiązane wywołaniami. Na zakończenie program powinien 
wypisywać drzewo wywołań funkcji. <span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span></p><p class="line874">Na przykład wyobraźmy sobie kod zawarty w dwóch plikach o postaci: <span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span></p><p class="line874">Plik fa.c <span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><span class="anchor" id="line-1-2"></span></p><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c)) {
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    var n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        var a = document.createElement('A');
        s.className = 'LineNumber';
        a.appendChild(document.createTextNode(nformat(n,4,'')));
        a.href = '#' + did + '_' + n;
        s.appendChild(a);
        s.appendChild(document.createTextNode(' '));
        n += nstep;
        if (l.childNodes.length) {
          l.insertBefore(s, l.firstChild);
        }
        else {
          l.appendChild(s);
        }
      }
      l = l.nextSibling;
    }
  }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c)) {
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-cf6f7f9c743dacab35b9bf618048699865e9b686\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-cf6f7f9c743dacab35b9bf618048699865e9b686', 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-cf6f7f9c743dacab35b9bf618048699865e9b686" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-cf6f7f9c743dacab35b9bf618048699865e9b686_1">   1</a> </span><span class="LineAnchor" id="CA-cf6f7f9c743dacab35b9bf618048699865e9b686_1"></span><span class="anchor" id="line-1-3"></span><span class="ResWord">int</span> <span class="ID">fa</span>( <span class="ResWord">int</span> <span class="ID">x</span> ) {</span>
<span class="line"><span class="LineNumber"><a href="#CA-cf6f7f9c743dacab35b9bf618048699865e9b686_2">   2</a> </span><span class="LineAnchor" id="CA-cf6f7f9c743dacab35b9bf618048699865e9b686_2"></span><span class="anchor" id="line-2-1"></span>  <span class="ResWord">return</span> <span class="Number">2</span>*<span class="ID">x</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-cf6f7f9c743dacab35b9bf618048699865e9b686_3">   3</a> </span><span class="LineAnchor" id="CA-cf6f7f9c743dacab35b9bf618048699865e9b686_3"></span><span class="anchor" id="line-3-1"></span>}</span>
</pre></div></div><span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><p class="line874">Plik p.c <span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><span class="anchor" id="line-1-4"></span></p><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7', 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_1">   1</a> </span><span class="LineAnchor" id="CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_1"></span><span class="anchor" id="line-1-5"></span><span class="ResWord">int</span> <span class="ID">fa</span>( <span class="ResWord">int</span> );</span>
<span class="line"><span class="LineNumber"><a href="#CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_2">   2</a> </span><span class="LineAnchor" id="CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_2"></span><span class="anchor" id="line-2-2"></span><span class="ResWord">int</span> <span class="ID">fb</span>( <span class="ResWord">int</span> );</span>
<span class="line"><span class="LineNumber"><a href="#CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_3">   3</a> </span><span class="LineAnchor" id="CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_3"></span><span class="anchor" id="line-3-2"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_4">   4</a> </span><span class="LineAnchor" id="CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_4"></span><span class="anchor" id="line-4-1"></span><span class="ResWord">int</span> <span class="ID">main</span>( ) {</span>
<span class="line"><span class="LineNumber"><a href="#CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_5">   5</a> </span><span class="LineAnchor" id="CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_5"></span><span class="anchor" id="line-5-1"></span>  <span class="ResWord">int</span> <span class="ID">i</span>= <span class="Number">5</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_6">   6</a> </span><span class="LineAnchor" id="CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_6"></span><span class="anchor" id="line-6-1"></span>  <span class="ID">printf</span>( <span class="String">"</span><span class="String">funkcjaa(%i)=%i</span><span class="String">"</span>, <span class="ID">i</span>, <span class="ID">fa</span>(<span class="ID">i</span>) );</span>
<span class="line"><span class="LineNumber"><a href="#CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_7">   7</a> </span><span class="LineAnchor" id="CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_7"></span><span class="anchor" id="line-7-1"></span>  <span class="ID">printf</span>( <span class="String">"</span><span class="String">funkcjab(%i)=%i</span><span class="String">"</span>, <span class="ID">i</span>, <span class="ID">fb</span>(<span class="ID">i</span>) );</span>
<span class="line"><span class="LineNumber"><a href="#CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_8">   8</a> </span><span class="LineAnchor" id="CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_8"></span><span class="anchor" id="line-8-1"></span>  <span class="ID">printf</span>( <span class="String">"</span><span class="String">funkcjac(%i)=%i</span><span class="String">"</span>, <span class="ID">i</span>, <span class="ID">fc</span>(<span class="ID">i</span>) );</span>
<span class="line"><span class="LineNumber"><a href="#CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_9">   9</a> </span><span class="LineAnchor" id="CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_9"></span><span class="anchor" id="line-9-1"></span>  <span class="ID">printf</span>( <span class="String">"</span><span class="String">jeszcze raz funkcjab(%i)=%i</span><span class="String">"</span>, <span class="ID">i</span>, <span class="ID">fb</span>(<span class="ID">i</span>) );</span>
<span class="line"><span class="LineNumber"><a href="#CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_10">  10</a> </span><span class="LineAnchor" id="CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_10"></span><span class="anchor" id="line-10-1"></span>  <span class="ResWord">return</span> <span class="Number">0</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_11">  11</a> </span><span class="LineAnchor" id="CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_11"></span><span class="anchor" id="line-11-1"></span>}</span>
<span class="line"><span class="LineNumber"><a href="#CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_12">  12</a> </span><span class="LineAnchor" id="CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_12"></span><span class="anchor" id="line-12-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_13">  13</a> </span><span class="LineAnchor" id="CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_13"></span><span class="anchor" id="line-13-1"></span><span class="ResWord">int</span> <span class="ID">fb</span>( <span class="ResWord">int</span> <span class="ID">x</span> ) {</span>
<span class="line"><span class="LineNumber"><a href="#CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_14">  14</a> </span><span class="LineAnchor" id="CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_14"></span><span class="anchor" id="line-14-1"></span>  <span class="ID">x</span>= <span class="ID">fc</span>(<span class="ID">x</span>);</span>
<span class="line"><span class="LineNumber"><a href="#CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_15">  15</a> </span><span class="LineAnchor" id="CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_15"></span><span class="anchor" id="line-15-1"></span>  <span class="ResWord">return</span> <span class="Number">2</span>*<span class="ID">fa</span>(<span class="ID">x</span>);</span>
<span class="line"><span class="LineNumber"><a href="#CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_16">  16</a> </span><span class="LineAnchor" id="CA-a668cbe1d7d6107de83134ccdfb2598c0e09dea7_16"></span><span class="anchor" id="line-16-1"></span>}</span>
</pre></div></div><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><p class="line874">Po przeczytaniu tych plików "nasz" program powinien wypisywać coś w rodzaju: <span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span></p><p class="line867"><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span></p><pre><span class="anchor" id="line-1-1"></span>   Funkcja fa: 
<span class="anchor" id="line-2"></span>      Prototyp:
<span class="anchor" id="line-3"></span>        plik p.c od linia 1 do linia 1
<span class="anchor" id="line-4"></span>      Definicja:
<span class="anchor" id="line-5"></span>        plik fa.c od linia 1 do linia 3
<span class="anchor" id="line-6"></span>      Użycie:
<span class="anchor" id="line-7"></span>        plik p.c od linia 6 do linia 6
<span class="anchor" id="line-8"></span>      Wywołuje:
<span class="anchor" id="line-9"></span>        brak
<span class="anchor" id="line-10"></span>
<span class="anchor" id="line-11"></span>
<span class="anchor" id="line-12"></span>   Funkcja fb:
<span class="anchor" id="line-13"></span>      Prototyp:
<span class="anchor" id="line-14"></span>        plik p.c od linia 2 do linia 2
<span class="anchor" id="line-15"></span>      Definicja:
<span class="anchor" id="line-16"></span>        plik p.c od linia 13 do linia 16
<span class="anchor" id="line-17"></span>      Użycie:
<span class="anchor" id="line-18"></span>        plik p.c od linia 7 do linia 7
<span class="anchor" id="line-19"></span>        plik p.c od linia 9 do linia 9
<span class="anchor" id="line-20"></span>      Wywołuje:
<span class="anchor" id="line-21"></span>        fc
<span class="anchor" id="line-22"></span>        fa
<span class="anchor" id="line-23"></span>
<span class="anchor" id="line-24"></span>   Funkcja main:
<span class="anchor" id="line-25"></span>      Prototyp:
<span class="anchor" id="line-26"></span>        brak
<span class="anchor" id="line-27"></span>      Definicja:
<span class="anchor" id="line-28"></span>        plik p.c od linia 4 do linia 11
<span class="anchor" id="line-29"></span>      Użycie:
<span class="anchor" id="line-30"></span>        brak
<span class="anchor" id="line-31"></span>      Wywołuje:
<span class="anchor" id="line-32"></span>        printf (4 razy)
<span class="anchor" id="line-33"></span>        fa
<span class="anchor" id="line-34"></span>        fb (2 razy)
<span class="anchor" id="line-35"></span>        fc </pre><span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span><ol type="1"><li>Program powinien umożliwiać: <span class="anchor" id="line-116"></span><ul><li>przetwarzanie dowolnie wielu plików w jednym przebiegu <span class="anchor" id="line-117"></span></li><li>ignorowanie pewnych funkcji (zgodnie z lista domyślną, lub listą dostarczoną przez użytkownika) <span class="anchor" id="line-118"></span></li><li>wypisywanie numerów linii, gdzie rozpoczyna i kończy się  funkcja oraz gdzie są wywoływane poszczególne funkcje <span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span></li></ul></li><li class="gap">Program powinien poprawnie reagować na niezbilansowanie nawiasów klamrowych w plikach źródłowych. <span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span></li><li class="gap"><p class="line862">Program powinien poprawnie obsługiwać komentarze <span class="comment" style="display:none">*/, // <span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span></span></p></li><li class="gap">Program ma być zbudowany modularnie. Podział na pliki źródłowe ma być odzwierciedleniem funkcjonalnej struktury programu. <span class="anchor" id="line-125"></span>Przykładowa lista modułów: <span class="anchor" id="line-126"></span><ul><li>analizator
 leksykalny - zamiana ciągu znaków, jakim jest plik, na ciąg symboli 
leksykalnych; pomija symbole nieistotne z p. widzenia zadania <span class="anchor" id="line-127"></span></li><li>analizator składni - wykrywanie prototypów, definicji, wywołań funkcji <span class="anchor" id="line-128"></span></li><li>kontener danych - przechowywania w pamięci drzewa wywołań <span class="anchor" id="line-129"></span></li><li>lista funkcji pomijanych - wykorzystywana przez analizator składni do określenia, czy zapisywać dane o funkcji, czy nie <span class="anchor" id="line-130"></span></li><li>formater wydruku - wypisuje zawartość kontenera w odpowiedniej formie <span class="anchor" id="line-131"></span></li><li>sterowanie - funkcja main: analizuje argv, inicjuje kontener, wywołuje analizator składni <span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span></li></ul></li><li class="gap">Opcje: <span class="anchor" id="line-134"></span><ul><li>obsługiwanie zagnieżdżonych plików włączanych przez include <span class="anchor" id="line-135"></span></li><li>ignorowania makrodefinicji: <span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span>Jeżeli w pliku źródłowym występuje np. makrodefinicja <span class="anchor" id="line-138"></span><span class="anchor" id="line-139"></span></li></ul></li></ol><p class="line867"><span class="anchor" id="line-140"></span><span class="anchor" id="line-141"></span></p><pre><span class="anchor" id="line-1-2"></span>   #define max(A,B) ((A)&gt;(B)?(A):(B))</pre><span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span><ul><li style="list-style-type:none">i dalej użycie tej makrodefinicji, np: <span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span></li></ul><p class="line867"><span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span><span class="anchor" id="line-148"></span><span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span></p><pre><span class="anchor" id="line-1-3"></span>   int fx( double a ) {
<span class="anchor" id="line-2-1"></span>      ....
<span class="anchor" id="line-3-1"></span>      cos_tam= max( cos, cos_innego );
<span class="anchor" id="line-4-1"></span>      ...
<span class="anchor" id="line-5-1"></span>   }</pre><span class="anchor" id="line-152"></span><span class="anchor" id="line-153"></span><ul><li style="list-style-type:none">to program powinien rozpoznać, że max jest makrem, a nie <span class="anchor" id="line-154"></span>funkcją. Można się ograniczyć do definicji występujących tylko <span class="anchor" id="line-155"></span>w analizowanym pliku (ignorować pliki włączane przez #include). <span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span></li></ul><p class="line867">
</p><h5 id="Wskaz.2BAPM-wki">Wskazówki</h5>
<span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span><p class="line874">Najtrudniejszym i jednocześnie najciekawszym zadaniem jest stworzenie analizatora składni. Można zaproponować <span class="anchor" id="line-160"></span>następującą jego postać: <span class="anchor" id="line-161"></span><span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span><span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span><span class="anchor" id="line-175"></span><span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span><span class="anchor" id="line-180"></span><span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span><span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span><span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span><span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span><span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span><span class="anchor" id="line-205"></span><span class="anchor" id="line-206"></span><span class="anchor" id="line-207"></span><span class="anchor" id="line-208"></span><span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span><span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span><span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><span class="anchor" id="line-219"></span><span class="anchor" id="line-220"></span><span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span><span class="anchor" id="line-223"></span><span class="anchor" id="line-224"></span><span class="anchor" id="line-225"></span><span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span><span class="anchor" id="line-228"></span><span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span><span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span><span class="anchor" id="line-233"></span><span class="anchor" id="line-234"></span><span class="anchor" id="line-235"></span><span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><span class="anchor" id="line-1-6"></span></p><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171', 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_1">   1</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_1"></span><span class="anchor" id="line-1-7"></span><span class="Preprc">#</span><span class="Preprc">include &lt;stdio.h&gt;              </span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_2">   2</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_2"></span><span class="anchor" id="line-2-3"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include &lt;stdlib.h&gt; </span><span class="Comment">// exit - ale exit trzeba kiedyś usunąć i nie będzie to potrzebne</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_3">   3</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_3"></span><span class="anchor" id="line-3-3"></span><span class="Comment"></span><span class="Preprc">#</span><span class="Preprc">include "alex.h"       </span><span class="Comment">// analizator leksykalny                                     </span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_4">   4</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_4"></span><span class="anchor" id="line-4-2"></span><span class="Comment"></span><span class="Preprc">#</span><span class="Preprc">include "fun_stack.h"  </span><span class="Comment">// stos funkcji                                              </span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_5">   5</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_5"></span><span class="anchor" id="line-5-2"></span><span class="Comment"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_6">   6</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_6"></span><span class="anchor" id="line-6-2"></span><span class="Preprc">#</span><span class="Preprc">define MAXINDENTLENGHT 256     </span><span class="Comment">// maks długość identyfikatora</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_7">   7</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_7"></span><span class="anchor" id="line-7-2"></span><span class="Comment"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_8">   8</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_8"></span><span class="anchor" id="line-8-2"></span><span class="ResWord">void</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_9">   9</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_9"></span><span class="anchor" id="line-9-2"></span><span class="ID">analizatorSkladni</span> (<span class="ResWord">char</span> *<span class="ID">inpname</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_10">  10</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_10"></span><span class="anchor" id="line-10-2"></span>{                               <span class="Comment">// przetwarza plik inpname</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_11">  11</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_11"></span><span class="anchor" id="line-11-2"></span><span class="Comment"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_12">  12</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_12"></span><span class="anchor" id="line-12-2"></span>  <span class="ID">FILE</span> *<span class="ID">in</span> = <span class="ID">fopen</span> (<span class="ID">inpname</span>, <span class="String">"</span><span class="String">r</span><span class="String">"</span>);</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_13">  13</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_13"></span><span class="anchor" id="line-13-2"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_14">  14</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_14"></span><span class="anchor" id="line-14-2"></span>  <span class="ResWord">int</span> <span class="ID">nbra</span> = <span class="Number">0</span>;   <span class="Comment">// bilans nawiasów klamrowych {}</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_15">  15</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_15"></span><span class="anchor" id="line-15-2"></span><span class="Comment"></span>  <span class="ResWord">int</span> <span class="ID">npar</span> = <span class="Number">0</span>;   <span class="Comment">// bilans nawiasów zwykłych ()</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_16">  16</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_16"></span><span class="anchor" id="line-16-2"></span><span class="Comment"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_17">  17</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_17"></span><span class="anchor" id="line-17-1"></span>  <span class="ID">alex_init4file</span> (<span class="ID">in</span>);          <span class="Comment">// ustaw analizator leksykalny, aby czytał in</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_18">  18</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_18"></span><span class="anchor" id="line-18-1"></span><span class="Comment"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_19">  19</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_19"></span><span class="anchor" id="line-19-1"></span>  <span class="ID">lexem_t</span> <span class="ID">lex</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_20">  20</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_20"></span><span class="anchor" id="line-20-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_21">  21</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_21"></span><span class="anchor" id="line-21-1"></span>  <span class="ID">lex</span> = <span class="ID">alex_nextLexem</span> ();      <span class="Comment">// pobierz następny leksem</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_22">  22</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_22"></span><span class="anchor" id="line-22-1"></span><span class="Comment"></span>  <span class="ResWord">while</span> (<span class="ID">lex</span> != <span class="ID">EOFILE</span>) {</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_23">  23</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_23"></span><span class="anchor" id="line-23-1"></span>    <span class="ResWord">switch</span> (<span class="ID">lex</span>) {</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_24">  24</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_24"></span><span class="anchor" id="line-24-1"></span>    <span class="ResWord">case</span> <span class="ID">IDENT:</span>{</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_25">  25</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_25"></span><span class="anchor" id="line-25-1"></span>        <span class="ResWord">char</span> *<span class="ID">iname</span> = <span class="ID">alex_ident</span> ();   <span class="Comment">// zapamiętaj identyfikator i patrz co dalej</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_26">  26</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_26"></span><span class="anchor" id="line-26-1"></span><span class="Comment"></span>        <span class="ID">lexem_t</span> <span class="ID">nlex</span> = <span class="ID">alex_nextLexem</span> ();</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_27">  27</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_27"></span><span class="anchor" id="line-27-1"></span>        <span class="ResWord">if</span> (<span class="ID">nlex</span> == <span class="ID">OPEPAR</span>) {   <span class="Comment">// nawias otwierający - to zapewne funkcja</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_28">  28</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_28"></span><span class="anchor" id="line-28-1"></span><span class="Comment"></span>          <span class="ID">npar</span>++;</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_29">  29</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_29"></span><span class="anchor" id="line-29-1"></span>          <span class="ID">put_on_fun_stack</span> (<span class="ID">npar</span>, <span class="ID">iname</span>);       <span class="Comment">// odłóż na stos funkcji</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_30">  30</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_30"></span><span class="anchor" id="line-30-1"></span><span class="Comment"></span>                                                <span class="Comment">// stos f. jest niezbędny, aby poprawnie obsłużyć sytuacje typu</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_31">  31</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_31"></span><span class="anchor" id="line-31-1"></span><span class="Comment"></span>                                                <span class="Comment">// f1( 5, f2( a ), f3( b ) )</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_32">  32</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_32"></span><span class="anchor" id="line-32-1"></span><span class="Comment"></span>        }</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_33">  33</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_33"></span><span class="anchor" id="line-33-1"></span>        <span class="ResWord">else</span> {                  <span class="Comment">// nie nawias, czyli nie funkcja</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_34">  34</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_34"></span><span class="anchor" id="line-34-1"></span><span class="Comment"></span>          <span class="ID">lex</span> = <span class="ID">nlex</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_35">  35</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_35"></span><span class="anchor" id="line-35-1"></span>          <span class="ResWord">continue</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_36">  36</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_36"></span><span class="anchor" id="line-36-1"></span>        }</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_37">  37</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_37"></span><span class="anchor" id="line-37-1"></span>      }</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_38">  38</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_38"></span><span class="anchor" id="line-38-1"></span>      <span class="ResWord">break</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_39">  39</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_39"></span><span class="anchor" id="line-39-1"></span>    <span class="ResWord">case</span> <span class="ID">OPEPAR:</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_40">  40</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_40"></span><span class="anchor" id="line-40-1"></span>      <span class="ID">npar</span>++;</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_41">  41</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_41"></span><span class="anchor" id="line-41-1"></span>      <span class="ResWord">break</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_42">  42</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_42"></span><span class="anchor" id="line-42-1"></span>    <span class="ResWord">case</span> <span class="ID">CLOPAR:</span>{              <span class="Comment">// zamykający nawias - to może być koniec prototypu, nagłówka albo wywołania</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_43">  43</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_43"></span><span class="anchor" id="line-43-1"></span><span class="Comment"></span>        <span class="ResWord">if</span> (<span class="ID">top_of_funstack</span> () == <span class="ID">npar</span>) {       <span class="Comment">// sprawdzamy, czy liczba nawiasów bilansuje się z wierzchołkiem stosu funkcji</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_44">  44</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_44"></span><span class="anchor" id="line-44-1"></span><span class="Comment"></span>                                                <span class="Comment">// jeśli tak, to właśnie wczytany nawias jest domknięciem nawiasu otwartego</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_45">  45</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_45"></span><span class="anchor" id="line-45-1"></span><span class="Comment"></span>                                                <span class="Comment">// za identyfikatorem znajdującym się na wierzchołku stosu</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_46">  46</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_46"></span><span class="anchor" id="line-46-1"></span><span class="Comment"></span>          <span class="ID">lexem_t</span> <span class="ID">nlex</span> = <span class="ID">alex_nextLexem</span> ();     <span class="Comment">// bierzemy nast leksem</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_47">  47</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_47"></span><span class="anchor" id="line-47-1"></span><span class="Comment"></span>          <span class="ResWord">if</span> (<span class="ID">nlex</span> == <span class="ID">OPEBRA</span>)   <span class="Comment">// nast. leksem to klamra a więc mamy do czynienia z def. funkcji</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_48">  48</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_48"></span><span class="anchor" id="line-48-1"></span><span class="Comment"></span>            <span class="ID">store_add_def</span> (<span class="ID">get_from_fun_stack</span> (), <span class="ID">alex_getLN</span> (), <span class="ID">inpname</span>);</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_49">  49</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_49"></span><span class="anchor" id="line-49-1"></span>          <span class="ResWord">else</span> <span class="ResWord">if</span> (<span class="ID">nbra</span> == <span class="Number">0</span>)   <span class="Comment">// nast. leksem to nie { i jesteśmy poza blokami - to musi być prototyp</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_50">  50</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_50"></span><span class="anchor" id="line-50-1"></span><span class="Comment"></span>            <span class="ID">store_add_proto</span> (<span class="ID">get_from_fun_stack</span> (), <span class="ID">alex_getLN</span> (), <span class="ID">inpname</span>);</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_51">  51</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_51"></span><span class="anchor" id="line-51-1"></span>          <span class="ResWord">else</span>                  <span class="Comment">// nast. leksem to nie { i jesteśmy wewnątrz bloku - to zapewne wywołanie</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_52">  52</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_52"></span><span class="anchor" id="line-52-1"></span><span class="Comment"></span>            <span class="ID">store_add_call</span> (<span class="ID">get_from_fun_stack</span> (), <span class="ID">alex_getLN</span> (), <span class="ID">inpname</span>);</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_53">  53</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_53"></span><span class="anchor" id="line-53-1"></span>        }</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_54">  54</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_54"></span><span class="anchor" id="line-54-1"></span>        <span class="ID">npar</span>--;</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_55">  55</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_55"></span><span class="anchor" id="line-55-1"></span>      }</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_56">  56</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_56"></span><span class="anchor" id="line-56-1"></span>      <span class="ResWord">break</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_57">  57</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_57"></span><span class="anchor" id="line-57-1"></span>    <span class="ResWord">case</span> <span class="ID">OPEBRA:</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_58">  58</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_58"></span><span class="anchor" id="line-58-1"></span>      <span class="ID">nbra</span>++;</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_59">  59</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_59"></span><span class="anchor" id="line-59-1"></span>      <span class="ResWord">break</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_60">  60</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_60"></span><span class="anchor" id="line-60-1"></span>    <span class="ResWord">case</span> <span class="ID">CLOBRA:</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_61">  61</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_61"></span><span class="anchor" id="line-61-1"></span>      <span class="ID">nbra</span>--;</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_62">  62</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_62"></span><span class="anchor" id="line-62-1"></span>      <span class="ResWord">break</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_63">  63</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_63"></span><span class="anchor" id="line-63-1"></span>    <span class="ResWord">case</span> <span class="ID">ERROR:</span>{</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_64">  64</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_64"></span><span class="anchor" id="line-64-1"></span>        <span class="ID">fprintf</span> (<span class="ID">stderr</span>, <span class="String">"</span><span class="SPChar">\n</span><span class="String">BUUUUUUUUUUUUUUUUUUUUUU!</span><span class="SPChar">\n</span><span class="String">"</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_65">  65</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_65"></span><span class="anchor" id="line-65-1"></span>                 <span class="String">"</span><span class="String">W pliku %s (linia %d) są błędy składni.</span><span class="SPChar">\n</span><span class="String">"</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_66">  66</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_66"></span><span class="anchor" id="line-66-1"></span>                 <span class="String">"</span><span class="String">Kończę!</span><span class="SPChar">\n</span><span class="SPChar">\n</span><span class="String">"</span>, <span class="ID">inpname</span>, <span class="ID">alex_getNL</span> ());</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_67">  67</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_67"></span><span class="anchor" id="line-67-1"></span>        <span class="ID">exit</span> (<span class="Number">1</span>);               <span class="Comment">// to nie jest najlepsze, ale jest proste ;-)</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_68">  68</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_68"></span><span class="anchor" id="line-68-1"></span><span class="Comment"></span>      }</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_69">  69</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_69"></span><span class="anchor" id="line-69-1"></span>      <span class="ResWord">break</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_70">  70</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_70"></span><span class="anchor" id="line-70-1"></span>    <span class="ResWord">default</span>:</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_71">  71</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_71"></span><span class="anchor" id="line-71-1"></span>      <span class="ResWord">break</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_72">  72</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_72"></span><span class="anchor" id="line-72-1"></span>    }</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_73">  73</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_73"></span><span class="anchor" id="line-73-1"></span>    <span class="ID">lex</span> = <span class="ID">alex_nextLexem</span> ();</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_74">  74</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_74"></span><span class="anchor" id="line-74-1"></span>  }</span>
<span class="line"><span class="LineNumber"><a href="#CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_75">  75</a> </span><span class="LineAnchor" id="CA-38958e4b7bce5d9f753e3e1432aeb7a04e675171_75"></span><span class="anchor" id="line-75-1"></span>}</span>
</pre></div></div><span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span><p class="line874">Popatrzmy jeszcze na szkic analizatora leksykalnego: <span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span><span class="anchor" id="line-246"></span><span class="anchor" id="line-247"></span><span class="anchor" id="line-248"></span><span class="anchor" id="line-249"></span><span class="anchor" id="line-250"></span><span class="anchor" id="line-251"></span><span class="anchor" id="line-252"></span><span class="anchor" id="line-253"></span><span class="anchor" id="line-254"></span><span class="anchor" id="line-255"></span><span class="anchor" id="line-256"></span><span class="anchor" id="line-257"></span><span class="anchor" id="line-1-8"></span></p><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-6e62912dab31bc41432b5f708098d2247a9f06b7\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-6e62912dab31bc41432b5f708098d2247a9f06b7', 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-6e62912dab31bc41432b5f708098d2247a9f06b7_1">   1</a> </span><span class="LineAnchor" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7_1"></span><span class="anchor" id="line-1-9"></span><span class="Preprc">#</span><span class="Preprc">ifndef _ALEX_H_IS_INCLUDED_</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-6e62912dab31bc41432b5f708098d2247a9f06b7_2">   2</a> </span><span class="LineAnchor" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7_2"></span><span class="anchor" id="line-2-4"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">define _ALEX_H_IS_INCLUDED_</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-6e62912dab31bc41432b5f708098d2247a9f06b7_3">   3</a> </span><span class="LineAnchor" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7_3"></span><span class="anchor" id="line-3-4"></span><span class="Preprc"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-6e62912dab31bc41432b5f708098d2247a9f06b7_4">   4</a> </span><span class="LineAnchor" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7_4"></span><span class="anchor" id="line-4-3"></span><span class="Preprc">#</span><span class="Preprc">include &lt;stdio.h&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-6e62912dab31bc41432b5f708098d2247a9f06b7_5">   5</a> </span><span class="LineAnchor" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7_5"></span><span class="anchor" id="line-5-3"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-6e62912dab31bc41432b5f708098d2247a9f06b7_6">   6</a> </span><span class="LineAnchor" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7_6"></span><span class="anchor" id="line-6-3"></span><span class="Comment">// interesujące leksemy: błąd, inny symbol, koniec pliku, otwierająca klamra {,</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-6e62912dab31bc41432b5f708098d2247a9f06b7_7">   7</a> </span><span class="LineAnchor" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7_7"></span><span class="anchor" id="line-7-3"></span><span class="Comment"></span><span class="Comment">//                       zamykająca klamra }, identyfikator, otwierający nawias,</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-6e62912dab31bc41432b5f708098d2247a9f06b7_8">   8</a> </span><span class="LineAnchor" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7_8"></span><span class="anchor" id="line-8-3"></span><span class="Comment"></span><span class="Comment">//                       zamykający nawias</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-6e62912dab31bc41432b5f708098d2247a9f06b7_9">   9</a> </span><span class="LineAnchor" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7_9"></span><span class="anchor" id="line-9-3"></span><span class="Comment"></span><span class="ResWord">typedef</span> <span class="ResWord">enum</span> { <span class="ID">ERROR</span>, <span class="ID">OTHER</span>, <span class="ID">EOFILE</span>, <span class="ID">OPEBRA</span>, <span class="ID">CLOBRA</span>, <span class="ID">IDENT</span>, <span class="ID">OPEPAR</span>, <span class="ID">CLOPAR</span> } <span class="ID">lexem_t</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-6e62912dab31bc41432b5f708098d2247a9f06b7_10">  10</a> </span><span class="LineAnchor" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7_10"></span><span class="anchor" id="line-10-3"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-6e62912dab31bc41432b5f708098d2247a9f06b7_11">  11</a> </span><span class="LineAnchor" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7_11"></span><span class="anchor" id="line-11-3"></span><span class="ResWord">void</span>    <span class="ID">alex_init4file</span>( <span class="ID">FILE</span> * );  <span class="Comment">// zacznij czytać nowy plik</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-6e62912dab31bc41432b5f708098d2247a9f06b7_12">  12</a> </span><span class="LineAnchor" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7_12"></span><span class="anchor" id="line-12-3"></span><span class="Comment"></span><span class="ID">lexem_t</span> <span class="ID">alex_nextLexem</span>( <span class="ResWord">void</span> );    <span class="Comment">// daj kolejny leksem w czytanym pliku</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-6e62912dab31bc41432b5f708098d2247a9f06b7_13">  13</a> </span><span class="LineAnchor" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7_13"></span><span class="anchor" id="line-13-3"></span><span class="Comment"></span><span class="ResWord">char</span> *  <span class="ID">alex_ident</span>( <span class="ResWord">void</span> );        <span class="Comment">// daj ostatni identyfikator</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-6e62912dab31bc41432b5f708098d2247a9f06b7_14">  14</a> </span><span class="LineAnchor" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7_14"></span><span class="anchor" id="line-14-3"></span><span class="Comment"></span><span class="ResWord">int</span>     <span class="ID">alex_getLN</span>();              <span class="Comment">// daj aktualny nr linii</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-6e62912dab31bc41432b5f708098d2247a9f06b7_15">  15</a> </span><span class="LineAnchor" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7_15"></span><span class="anchor" id="line-15-3"></span><span class="Comment"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-6e62912dab31bc41432b5f708098d2247a9f06b7_16">  16</a> </span><span class="LineAnchor" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7_16"></span><span class="anchor" id="line-16-3"></span><span class="Preprc">#</span><span class="Preprc">endif</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-6e62912dab31bc41432b5f708098d2247a9f06b7_17">  17</a> </span><span class="LineAnchor" id="CA-6e62912dab31bc41432b5f708098d2247a9f06b7_17"></span><span class="anchor" id="line-17-2"></span><span class="Preprc"></span></span>
</pre></div></div><span class="anchor" id="line-258"></span><span class="anchor" id="line-259"></span><p class="line867"><span class="anchor" id="line-260"></span><span class="anchor" id="line-261"></span><span class="anchor" id="line-262"></span><span class="anchor" id="line-263"></span><span class="anchor" id="line-264"></span><span class="anchor" id="line-265"></span><span class="anchor" id="line-266"></span><span class="anchor" id="line-267"></span><span class="anchor" id="line-268"></span><span class="anchor" id="line-269"></span><span class="anchor" id="line-270"></span><span class="anchor" id="line-271"></span><span class="anchor" id="line-272"></span><span class="anchor" id="line-273"></span><span class="anchor" id="line-274"></span><span class="anchor" id="line-275"></span><span class="anchor" id="line-276"></span><span class="anchor" id="line-277"></span><span class="anchor" id="line-278"></span><span class="anchor" id="line-279"></span><span class="anchor" id="line-280"></span><span class="anchor" id="line-281"></span><span class="anchor" id="line-282"></span><span class="anchor" id="line-283"></span><span class="anchor" id="line-284"></span><span class="anchor" id="line-285"></span><span class="anchor" id="line-286"></span><span class="anchor" id="line-287"></span><span class="anchor" id="line-288"></span><span class="anchor" id="line-289"></span><span class="anchor" id="line-290"></span><span class="anchor" id="line-291"></span><span class="anchor" id="line-292"></span><span class="anchor" id="line-293"></span><span class="anchor" id="line-294"></span><span class="anchor" id="line-295"></span><span class="anchor" id="line-296"></span><span class="anchor" id="line-297"></span><span class="anchor" id="line-298"></span><span class="anchor" id="line-299"></span><span class="anchor" id="line-300"></span><span class="anchor" id="line-301"></span><span class="anchor" id="line-302"></span><span class="anchor" id="line-303"></span><span class="anchor" id="line-304"></span><span class="anchor" id="line-305"></span><span class="anchor" id="line-306"></span><span class="anchor" id="line-307"></span><span class="anchor" id="line-308"></span><span class="anchor" id="line-309"></span><span class="anchor" id="line-310"></span><span class="anchor" id="line-311"></span><span class="anchor" id="line-312"></span><span class="anchor" id="line-313"></span><span class="anchor" id="line-314"></span><span class="anchor" id="line-315"></span><span class="anchor" id="line-316"></span><span class="anchor" id="line-317"></span><span class="anchor" id="line-318"></span><span class="anchor" id="line-319"></span><span class="anchor" id="line-320"></span><span class="anchor" id="line-321"></span><span class="anchor" id="line-322"></span><span class="anchor" id="line-1-10"></span></p><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0', 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_1">   1</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_1"></span><span class="anchor" id="line-1-11"></span><span class="Preprc">#</span><span class="Preprc">include "alex.h"</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_2">   2</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_2"></span><span class="anchor" id="line-2-5"></span><span class="Preprc"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_3">   3</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_3"></span><span class="anchor" id="line-3-5"></span><span class="Preprc">#</span><span class="Preprc">include &lt;ctype.h&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_4">   4</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_4"></span><span class="anchor" id="line-4-4"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_5">   5</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_5"></span><span class="anchor" id="line-5-4"></span><span class="ResWord">static</span> <span class="ResWord">int</span>  <span class="ID">ln</span>= <span class="Number">0</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_6">   6</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_6"></span><span class="anchor" id="line-6-4"></span><span class="ResWord">static</span> <span class="ResWord">char</span> <span class="ID">ident</span>[<span class="Number">256</span>];</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_7">   7</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_7"></span><span class="anchor" id="line-7-4"></span><span class="ResWord">static</span> <span class="ID">FILE</span> *<span class="ID">ci</span>= <span class="ResWord">NULL</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_8">   8</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_8"></span><span class="anchor" id="line-8-4"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_9">   9</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_9"></span><span class="anchor" id="line-9-4"></span><span class="ResWord">void</span>    <span class="ID">alex_init4file</span>( <span class="ID">FILE</span> *<span class="ID">in</span> ) {</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_10">  10</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_10"></span><span class="anchor" id="line-10-4"></span>   <span class="ID">ln</span>= <span class="Number">0</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_11">  11</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_11"></span><span class="anchor" id="line-11-4"></span>   <span class="ID">ci</span>= <span class="ID">in</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_12">  12</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_12"></span><span class="anchor" id="line-12-4"></span>}</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_13">  13</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_13"></span><span class="anchor" id="line-13-4"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_14">  14</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_14"></span><span class="anchor" id="line-14-4"></span><span class="ID">lexem_t</span> <span class="ID">alex_nextLexem</span>( <span class="ResWord">void</span> ) {</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_15">  15</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_15"></span><span class="anchor" id="line-15-4"></span>  <span class="ResWord">int</span> <span class="ID">c</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_16">  16</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_16"></span><span class="anchor" id="line-16-4"></span>  <span class="ResWord">while</span>( (<span class="ID">c</span>= <span class="ID">fgetc</span>(<span class="ID">ci</span>)) != <span class="ID">EOF</span> ) {</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_17">  17</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_17"></span><span class="anchor" id="line-17-3"></span>    <span class="ResWord">if</span>( <span class="ID">isspace</span>( <span class="ID">c</span> ) )</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_18">  18</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_18"></span><span class="anchor" id="line-18-2"></span>                        <span class="ResWord">continue</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_19">  19</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_19"></span><span class="anchor" id="line-19-2"></span>                <span class="ResWord">else</span> <span class="ResWord">if</span>( <span class="ID">c</span> == <span class="Char">'\n'</span> )</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_20">  20</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_20"></span><span class="anchor" id="line-20-2"></span>                        <span class="ID">ln</span>++;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_21">  21</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_21"></span><span class="anchor" id="line-21-2"></span>    <span class="ResWord">else</span> <span class="ResWord">if</span>( <span class="ID">c</span> == <span class="Char">'('</span> )</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_22">  22</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_22"></span><span class="anchor" id="line-22-2"></span>                        <span class="ResWord">return</span> <span class="ID">OPEPAR</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_23">  23</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_23"></span><span class="anchor" id="line-23-2"></span>    <span class="ResWord">else</span> <span class="ResWord">if</span>( <span class="ID">c</span> == <span class="Char">')'</span> )</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_24">  24</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_24"></span><span class="anchor" id="line-24-2"></span>      <span class="ResWord">return</span> <span class="ID">CLOPAR</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_25">  25</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_25"></span><span class="anchor" id="line-25-2"></span>    <span class="ResWord">else</span> <span class="ResWord">if</span>( <span class="ID">c</span> == <span class="Char">'{'</span> )</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_26">  26</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_26"></span><span class="anchor" id="line-26-2"></span>                        <span class="ResWord">return</span> <span class="ID">OPEBRA</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_27">  27</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_27"></span><span class="anchor" id="line-27-2"></span>    <span class="ResWord">else</span> <span class="ResWord">if</span>( <span class="ID">c</span> == <span class="Char">'}'</span> )</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_28">  28</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_28"></span><span class="anchor" id="line-28-2"></span>                        <span class="ResWord">return</span> <span class="ID">CLOBRA</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_29">  29</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_29"></span><span class="anchor" id="line-29-2"></span>    <span class="ResWord">else</span> <span class="ResWord">if</span>( <span class="ID">isalpha</span>( <span class="ID">c</span> ) ) {</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_30">  30</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_30"></span><span class="anchor" id="line-30-2"></span>      <span class="ResWord">int</span> <span class="ID">i</span>= <span class="Number">1</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_31">  31</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_31"></span><span class="anchor" id="line-31-2"></span>      <span class="ID">ident</span>[<span class="Number">0</span>] = <span class="ID">c</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_32">  32</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_32"></span><span class="anchor" id="line-32-2"></span>      <span class="ResWord">while</span>( <span class="ID">isalnum</span>( <span class="ID">c</span>= <span class="ID">fgetc</span>(<span class="ID">ci</span>) ) )</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_33">  33</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_33"></span><span class="anchor" id="line-33-2"></span>                                <span class="ID">ident</span>[<span class="ID">i</span>++] = <span class="ID">c</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_34">  34</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_34"></span><span class="anchor" id="line-34-2"></span>                        <span class="ID">ident</span>[<span class="ID">i</span>] = <span class="Char">'\0'</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_35">  35</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_35"></span><span class="anchor" id="line-35-2"></span>      <span class="ResWord">return</span> <span class="ID">isKeyword</span>(<span class="ID">ident</span>) ? <span class="ID">OTHER</span> : <span class="ID">IDENT</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_36">  36</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_36"></span><span class="anchor" id="line-36-2"></span>                } <span class="ResWord">else</span> <span class="ResWord">if</span>( <span class="ID">c</span> == <span class="Char">'"'</span> ) {</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_37">  37</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_37"></span><span class="anchor" id="line-37-2"></span>      <span class="Comment">/* Uwaga: tu trzeba jeszcze poprawic obsluge nowej linii w trakcie napisu</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_38">  38</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_38"></span><span class="anchor" id="line-38-2"></span><span class="Comment">         i \\ w napisie</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_39">  39</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_39"></span><span class="anchor" id="line-39-2"></span><span class="Comment">      */</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_40">  40</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_40"></span><span class="anchor" id="line-40-2"></span>      <span class="ResWord">int</span> <span class="ID">cp</span> = <span class="ID">c</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_41">  41</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_41"></span><span class="anchor" id="line-41-2"></span>                        <span class="ResWord">while</span>( (<span class="ID">c</span>= <span class="ID">fgetc</span>(<span class="ID">ci</span>)) != <span class="ID">EOF</span> &amp;&amp; <span class="ID">c</span> != <span class="Char">'"'</span> &amp;&amp; <span class="ID">cp</span> == <span class="Char">'\\'</span> ) {</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_42">  42</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_42"></span><span class="anchor" id="line-42-2"></span>                                <span class="ID">cp</span> = <span class="ID">c</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_43">  43</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_43"></span><span class="anchor" id="line-43-2"></span>      }</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_44">  44</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_44"></span><span class="anchor" id="line-44-2"></span>      <span class="ResWord">return</span> <span class="ID">c</span>==<span class="ID">EOF</span> ? <span class="ID">EOFILE</span> : <span class="ID">OTHER</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_45">  45</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_45"></span><span class="anchor" id="line-45-2"></span>    } <span class="ResWord">else</span> <span class="ResWord">if</span>( <span class="ID">c</span> == <span class="Char">'/'</span> ) {</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_46">  46</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_46"></span><span class="anchor" id="line-46-2"></span>      <span class="Comment">/* moze byc komentarz */</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_47">  47</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_47"></span><span class="anchor" id="line-47-2"></span>                } <span class="ResWord">if</span>( <span class="ID">isdigit</span>( <span class="ID">c</span> ) || <span class="ID">c</span> == <span class="Char">'.'</span> ) {</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_48">  48</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_48"></span><span class="anchor" id="line-48-2"></span>      <span class="Comment">/* liczba */</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_49">  49</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_49"></span><span class="anchor" id="line-49-2"></span>                } <span class="ResWord">else</span> {</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_50">  50</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_50"></span><span class="anchor" id="line-50-2"></span>      <span class="ResWord">return</span> <span class="ID">OTHER</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_51">  51</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_51"></span><span class="anchor" id="line-51-2"></span>                }</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_52">  52</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_52"></span><span class="anchor" id="line-52-2"></span>        }</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_53">  53</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_53"></span><span class="anchor" id="line-53-2"></span>  <span class="ResWord">return</span> <span class="ID">EOFILE</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_54">  54</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_54"></span><span class="anchor" id="line-54-2"></span>}</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_55">  55</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_55"></span><span class="anchor" id="line-55-2"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_56">  56</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_56"></span><span class="anchor" id="line-56-2"></span><span class="ResWord">char</span> *  <span class="ID">alex_ident</span>( <span class="ResWord">void</span> ) {</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_57">  57</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_57"></span><span class="anchor" id="line-57-2"></span>   <span class="ResWord">return</span> <span class="ID">ident</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_58">  58</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_58"></span><span class="anchor" id="line-58-2"></span>}</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_59">  59</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_59"></span><span class="anchor" id="line-59-2"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_60">  60</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_60"></span><span class="anchor" id="line-60-2"></span><span class="ResWord">int</span>     <span class="ID">alex_getLN</span>() {</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_61">  61</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_61"></span><span class="anchor" id="line-61-2"></span>        <span class="ResWord">return</span> <span class="ID">ln</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_62">  62</a> </span><span class="LineAnchor" id="CA-c4b2668f9bf0ec0283b03a672ae5447cd73a89a0_62"></span><span class="anchor" id="line-62-2"></span>}</span>
</pre></div></div><span class="anchor" id="line-323"></span><span class="anchor" id="line-324"></span><p class="line874">Stos
 funkcji (który może być częścią analizatora leksykalnego) powinien 
posiadać następujący interfejs (który nie musi być osobnym plikiem, gdyż
 będzie wykorzystywany tylko wewnątrz parsera): <span class="anchor" id="line-325"></span><span class="anchor" id="line-326"></span><span class="anchor" id="line-327"></span><span class="anchor" id="line-328"></span><span class="anchor" id="line-329"></span><span class="anchor" id="line-330"></span><span class="anchor" id="line-331"></span><span class="anchor" id="line-332"></span><span class="anchor" id="line-333"></span><span class="anchor" id="line-334"></span><span class="anchor" id="line-1-12"></span></p><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-ddb49f926f19bf464adcdc8cf065c33d2530223f\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-ddb49f926f19bf464adcdc8cf065c33d2530223f', 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-ddb49f926f19bf464adcdc8cf065c33d2530223f" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_1">   1</a> </span><span class="LineAnchor" id="CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_1"></span><span class="anchor" id="line-1-13"></span><span class="Preprc">#</span><span class="Preprc">ifndef _FUN_STACK_H_IS_INCLUDED_</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_2">   2</a> </span><span class="LineAnchor" id="CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_2"></span><span class="anchor" id="line-2-6"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">define _FUN_STACK_H_IS_INCLUDED_</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_3">   3</a> </span><span class="LineAnchor" id="CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_3"></span><span class="anchor" id="line-3-6"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_4">   4</a> </span><span class="LineAnchor" id="CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_4"></span><span class="anchor" id="line-4-5"></span><span class="ResWord">int</span> <span class="ID">top_of_funstack</span>( <span class="ResWord">void</span> );  <span class="Comment">// zwraca par_level - "zagłębienie nawiasowe" przechowywane na szczycie</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_5">   5</a> </span><span class="LineAnchor" id="CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_5"></span><span class="anchor" id="line-5-5"></span><span class="Comment"></span><span class="ResWord">void</span> <span class="ID">put_on_fun_stack</span>( <span class="ResWord">int</span> <span class="ID">par_level</span>, <span class="ResWord">char</span> *<span class="ID">funame</span> ); <span class="Comment">// odkłada na stos parę (funame,par_level)</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_6">   6</a> </span><span class="LineAnchor" id="CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_6"></span><span class="anchor" id="line-6-5"></span><span class="Comment"></span><span class="ResWord">char</span> *<span class="ID">get_from_fun_stack</span>( <span class="ResWord">void</span> ); <span class="Comment">// usuwa z wierzchołka parę (funame,par_level), zwraca zdjętą funame</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_7">   7</a> </span><span class="LineAnchor" id="CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_7"></span><span class="anchor" id="line-7-5"></span><span class="Comment"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_8">   8</a> </span><span class="LineAnchor" id="CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_8"></span><span class="anchor" id="line-8-5"></span><span class="Preprc">#</span><span class="Preprc">endif</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_9">   9</a> </span><span class="LineAnchor" id="CA-ddb49f926f19bf464adcdc8cf065c33d2530223f_9"></span><span class="anchor" id="line-9-5"></span><span class="Preprc"></span></span>
</pre></div></div><span class="anchor" id="line-335"></span><span class="anchor" id="line-336"></span><p class="line867">
</p><h5 id="Program_na_zaliczenie">Program na zaliczenie</h5>
<span class="anchor" id="line-337"></span><span class="anchor" id="line-338"></span><p class="line874">Do
 wyboru przez prowadzącego: wykonanie działających wybranych modułów i 
programów testujących te moduły. Każdy student wykonuje inny moduł. <span class="anchor" id="line-339"></span><span class="anchor" id="line-340"></span><span class="anchor" id="line-341"></span></p><p class="line867"></p><hr class="hr4"><p class="line874"> <span class="anchor" id="line-342"></span>To już prawie wszystko, ale nie wolno nam zapomnieć, że <span class="anchor" id="line-343"></span></p><div><table><tbody><tr>  <td style="border-width: 0px; ; width: 66%"><p class="line862">materiały zostały opracowane w ramach realizacji Programu Rozwojowego Politechniki Warszawskiej. </p></td>
  <td style="border-width: 0px;  text-align: right;"><p class="line862"> <img alt="http://prpw.iem.pw.edu.pl/images/KAPITAL_LUDZKI.gif" class="external_image" src="LMP_8%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/KAPITAL_LUDZKI.gif" title="http://prpw.iem.pw.edu.pl/images/KAPITAL_LUDZKI.gif"> <img alt="http://prpw.iem.pw.edu.pl/images/EU+EFS_P-kolor.gif" class="external_image" src="LMP_8%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/EUEFS_P-kolor.gif" title="http://prpw.iem.pw.edu.pl/images/EU+EFS_P-kolor.gif"> </p></td>
</tr>
<tr>  <td colspan="2" style="border-width: 0px;  text-align: center;"><span class="anchor" id="line-344"></span><p class="line891"><small><a class="http" href="http://www.pr.pw.edu.pl/"><img alt="http://www.pr.pw.edu.pl/" class="external_image" src="LMP_8%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/small_logo_prpw.jpg" title="http://www.pr.pw.edu.pl/"></a> jest projektem współfinansowanym przez Unię Europejską w ramach <a class="http" href="http://www.efs.gov.pl/">Europejskiego Funduszu społecznego</a>
 (działanie 4.1.1 Programu Operacyjnego Kapitał Ludzki) i ma na celu 
poprawę jakości kształcenia oraz dostosowanie oferty dydaktycznej 
Politechniki Warszawskiej do potrzeb rynku pracy. Będzie on realizowany 
przez Uczelnię w latach 2008-2015.</small> </p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-345"></span><span class="anchor" id="bottom"></span></div><p id="pageinfo" class="info" dir="ltr" lang="en">wikidyd - IETiSIP, Wydzial Elektryczny Politechniki Warszawskiej: LMP/8  (last edited 2011-09-28 09:56:59 by <span title="JacekStarzyński @ oer.iem.pw.edu.pl[194.29.146.107]"><a href="http://wikidyd.iem.pw.edu.pl/JacekStarzy%C5%84ski" title="JacekStarzyński @ oer.iem.pw.edu.pl[194.29.146.107]">JacekStarzyński</a></span>)</p>

<div id="pagebottom"></div>
</div>


<div id="footer">
<ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>



</body><div data="{&quot;a&quot;:&quot;setShowingSafe&quot;,&quot;f&quot;:false}" style="display:none" id="sp_console_event"></div></html>