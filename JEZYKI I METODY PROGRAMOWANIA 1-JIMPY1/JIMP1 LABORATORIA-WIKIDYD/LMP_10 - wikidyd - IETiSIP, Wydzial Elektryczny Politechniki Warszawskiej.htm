<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="index,nofollow">

<title>LMP/10 - wikidyd - IETiSIP, Wydzial Elektryczny Politechniki Warszawskiej</title>
<script type="text/javascript" src="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static193/rightsidebar/css/msie.css">
<![endif]-->





<link rel="Start" href="http://wikidyd.iem.pw.edu.pl/WikiDyd">
<link rel="Alternate" title="Wiki Markup" href="http://wikidyd.iem.pw.edu.pl/LMP/10?action=raw">
<link rel="Alternate" media="print" title="Print View" href="http://wikidyd.iem.pw.edu.pl/LMP/10?action=print">
<link rel="Up" href="http://wikidyd.iem.pw.edu.pl/LMP">
<link rel="Appendix" title="3spl.png" href="http://wikidyd.iem.pw.edu.pl/LMP/10?action=AttachFile&amp;do=view&amp;target=3spl.png">
<link rel="Appendix" title="dane.1.approx.png" href="http://wikidyd.iem.pw.edu.pl/LMP/10?action=AttachFile&amp;do=view&amp;target=dane.1.approx.png">
<link rel="Appendix" title="dane.1.png" href="http://wikidyd.iem.pw.edu.pl/LMP/10?action=AttachFile&amp;do=view&amp;target=dane.1.png">
<link rel="Appendix" title="gnuplot.png" href="http://wikidyd.iem.pw.edu.pl/LMP/10?action=AttachFile&amp;do=view&amp;target=gnuplot.png">
<link rel="Appendix" title="gnuplot2.png" href="http://wikidyd.iem.pw.edu.pl/LMP/10?action=AttachFile&amp;do=view&amp;target=gnuplot2.png">
<link rel="Appendix" title="lmp10.tgz" href="http://wikidyd.iem.pw.edu.pl/LMP/10?action=AttachFile&amp;do=view&amp;target=lmp10.tgz">
<link rel="Appendix" title="wykres.png" href="http://wikidyd.iem.pw.edu.pl/LMP/10?action=AttachFile&amp;do=view&amp;target=wykres.png">
<link rel="Search" href="http://wikidyd.iem.pw.edu.pl/FindPage">
<link rel="Index" href="http://wikidyd.iem.pw.edu.pl/TitleIndex">
<link rel="Glossary" href="http://wikidyd.iem.pw.edu.pl/WordIndex">
<link rel="Help" href="http://wikidyd.iem.pw.edu.pl/HelpOnFormatting">
</head>

<body dir="ltr" lang="en">

<div id="header">

<form id="searchform" method="get" action="/LMP/10">
<div>
<input name="action" value="fullsearch" type="hidden">
<input name="context" value="180" type="hidden">
<label style="display: none;" for="searchinput">Search:</label>
<input class="disabled" id="searchinput" name="value" value="Search" size="20" onfocus="searchFocus(this)" onblur="searchBlur(this)" onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search" type="text">
<input disabled="disabled" id="titlesearch" name="titlesearch" value="Titles" alt="Search Titles" type="submit">
<input disabled="disabled" id="fullsearch" name="fullsearch" value="Text" alt="Search Full Text" type="submit">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>


<div id="locationline">
<div id="interwiki"><span><a href="http://wikidyd.iem.pw.edu.pl/WikiDyd" rel="nofollow">wikidyd - IETiSIP, Wydzial Elektryczny Politechniki Warszawskiej</a></span></div>

<ul id="pagelocation">
<li><a href="http://wikidyd.iem.pw.edu.pl/LMP">LMP</a></li><li><a class="backlink" href="http://wikidyd.iem.pw.edu.pl/LMP/10?action=fullsearch&amp;context=180&amp;value=linkto%3A%22LMP%2F10%22" rel="nofollow" title="Click to do a full-text search for this title">10</a></li>
</ul>

</div>

</div>

<div id="sidebar">
<div class="sidepanel">
<h1>Wiki</h1>

<ul id="navibar">
<li class="wikilink"><a href="http://wikidyd.iem.pw.edu.pl/RecentChanges">RecentChanges</a></li><li class="wikilink"><a href="http://wikidyd.iem.pw.edu.pl/FindPage">FindPage</a></li><li class="wikilink"><a href="http://wikidyd.iem.pw.edu.pl/HelpContents">HelpContents</a></li><li class="current"><a href="http://wikidyd.iem.pw.edu.pl/LMP/10">LMP/10</a></li>
</ul>

</div>
<div class="sidepanel">
<h1>Page</h1>
<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li class="toggleCommentsButton" style=""><a href="#" class="nbcomment" onclick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="http://wikidyd.iem.pw.edu.pl/LMP/10?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="http://wikidyd.iem.pw.edu.pl/LMP/10?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="/LMP/10">
<div>
    
    <select name="action" onchange="if ((this.selectedIndex != 0) &amp;&amp;
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option selected="selected" value="show">More Actions:</option><option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled="disabled" class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled="disabled" class="disabled">------------------------</option>
<option value="RenamePage" disabled="disabled" class="disabled">Rename Page</option>
<option value="DeletePage" disabled="disabled" class="disabled">Delete Page</option>
<option value="show" disabled="disabled" class="disabled">------------------------</option>
<option value="show" disabled="disabled" class="disabled">Subscribe User</option>
<option value="show" disabled="disabled" class="disabled">------------------------</option>
<option value="show" disabled="disabled" class="disabled">Remove Spam</option>
<option value="show" disabled="disabled" class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled="disabled" class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>
<div class="sidepanel">
<h1>User</h1>
<ul id="username"><li><a href="http://wikidyd.iem.pw.edu.pl/LMP/10?action=login" id="login" rel="nofollow">Login</a></li></ul>
</div>
</div>

<div id="page" dir="ltr" lang="en">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><div><table><tbody><tr>  <td style="border-width: 0px; ; width: 66%"><p class="line862">Materiały zostały opracowane w ramach realizacji Programu Rozwojowego Politechniki Warszawskiej. </p></td>
  <td style="border-width: 0px;  text-align: right;"><p class="line862"> <img alt="http://prpw.iem.pw.edu.pl/images/KAPITAL_LUDZKI.gif" class="external_image" src="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/KAPITAL_LUDZKI.gif" title="http://prpw.iem.pw.edu.pl/images/KAPITAL_LUDZKI.gif"> <img alt="http://prpw.iem.pw.edu.pl/images/EU+EFS_P-kolor.gif" class="external_image" src="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/EUEFS_P-kolor.gif" title="http://prpw.iem.pw.edu.pl/images/EU+EFS_P-kolor.gif"> </p></td>
</tr>
<tr>  <td colspan="2" style="border-width: 0px;  text-align: center;"><span class="anchor" id="line-2"></span><p class="line891"><small><a class="http" href="http://www.pr.pw.edu.pl/"><img alt="http://www.pr.pw.edu.pl/" class="external_image" src="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/small_logo_prpw.jpg" title="http://www.pr.pw.edu.pl/"></a> jest projektem współfinansowanym przez Unię Europejską w ramach <a class="http" href="http://www.efs.gov.pl/">Europejskiego Funduszu społecznego</a>
 (działanie 4.1.1 Programu Operacyjnego Kapitał Ludzki) i ma na celu 
poprawę jakości kształcenia oraz dostosowanie oferty dydaktycznej 
Politechniki Warszawskiej do potrzeb rynku pracy. Będzie on realizowany 
przez Uczelnię w latach 2008-2015.</small> </p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-3"></span><p class="line867"></p><hr class="hr4"><p class="line874"> <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span></p><p class="line867">
</p><h3 id="Laboratorium_metodyki_programowania">Laboratorium metodyki programowania</h3>
<span class="anchor" id="line-6"></span><p class="line867">
</p><h2 id="A.2BAQY-wiczenie_10:_Problemy_wyst.2BARk-puj.2BAQU-ce_w_bardziej_z.2BAUI-o.2BAXw-onych_programach">Ćwiczenie 10: Problemy występujące w bardziej złożonych programach</h2>
<span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><p class="line867">
</p><h4 id="Scenariusz">Scenariusz</h4>
<span class="anchor" id="line-9"></span><ol type="a"><li>Student loguje się do systemu LOP (Laboratorium Otwartego Programowania). <span class="anchor" id="line-10"></span></li><li>Student przechodzi do katalogu roboczego dla zajęć LMP. <span class="anchor" id="line-11"></span></li><li>Student pobiera z repozytorium kod programów. <span class="anchor" id="line-12"></span></li><li>Po
 wyjaśnieniach prowadzącego student przystępuje do kompilacji i 
uruchomienia programów. Porównuje wynik działania z kodem źródłowym. <span class="anchor" id="line-13"></span></li><li>Student modyfikuje programy według wskazówek prowadzącego (patrz opis szczegółowy). Powtarza próbę kompilacji i uruchomienia. <span class="anchor" id="line-14"></span></li><li>Ćwiczenie zaliczeniowe: student rozszerza funkcjonalność programu według zamówienia prowadzącego. <span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span></li></ol><p class="line867">
</p><h4 id="Opis_szczeg.2BAPMBQg-owy">Opis szczegółowy</h4>
<span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><p class="line862">W trakcie <strong>trzech</strong> zajęć zmierzymy się z wyzwaniami pracy nad cokolwiek złożonym programem. <span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span></p><p class="line867">
</p><h5 id="Rozpocz.2BARk-cie_pracy">Rozpoczęcie pracy</h5>
<span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><p class="line862">Zajęcia
 będą prowadzone na komputerze stud.iem.pw.edu.pl. W celu rozpoczęcia 
pracy należy zalogować się na tym komputerze za pomocą usługi ssh. Można
 w tym celu wykorzystać albo dostępny w każdym praktycznie systemie 
Unix/Linux program <a class="http" href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh</a> albo klienta SSH dla systemu Windows - <a class="http" href="http://www.chiark.greenend.org.uk/%7Esgtatham/putty/">PuTTY</a>.
 Na maszynach studenckich w IETiSIP PW można podnieść różne dystrybucje 
Uniksa/Linuksa lub system Windows, ale w każdej z nich jest 
zainstalowane oprogramowanie ssh.  <span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span></p><p class="line874">Do
 logowania na maszynie stud.iem.pw.edu.pl należy użyć takiego samego 
loginu i hasła jakie wykorzystywane są do dostępu do usług wydziałowych 
(poczta, e-dziekanat, itd.). <span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span></p><p class="line862">Po zalogowaniu się należy przejść do <a href="http://wikidyd.iem.pw.edu.pl/LMP/1">utworzonego na pierwszych zajęciach</a> katalogu lmp: <span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span></p><pre><span class="anchor" id="line-1"></span> cd lmp</pre><span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><p class="line867"><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span></p><div class="comment" style="display:none"><span class="anchor" id="line-1-1"></span><p class="line867"><a href="http://wikidyd.iem.pw.edu.pl/LMP/10/SVN">Pobranie kodu z repozytorium svn</a> </p></div><span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><p class="line867">
</p><h5 id="Kod_do_zaj.2BARkBBw-">Kod do zajęć</h5>
<span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><p class="line867"><a class="attachment" href="http://wikidyd.iem.pw.edu.pl/LMP/10?action=AttachFile&amp;do=view&amp;target=lmp10.tgz" title="">lmp10.tgz</a> <span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span></p><p class="line867">
</p><h5 id="Problem">Problem</h5>
<span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><p class="line874">Otrzymujecie Państwo kod, który jest rozwiązaniem następującego zadania projektowego: <span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span></p><p class="line867"></p><hr><p class="line874"> <span class="anchor" id="line-45"></span><em>Program wyznaczający aproksymację zadanego ciągu danych pomiarowych.</em> <span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span></p><p class="line874">Celem projektu jest napisanie programu, który będzie aproksymował zadany ciąg dwuwymiarowych danych (par liczb) gładką funkcją. <span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span></p><p class="line862">Zagadnienie aproksymacji danych pomiarowych opisane jest stosunkowo prosto w <a class="http" href="http://fatcat.ftj.agh.edu.pl/%7Echwiej/mn/aproksymacja.pdf">materiałach do wykładu z metod numerycznych dr. Tomasz Chwieja (AGH)</a> (slajd nr 2, lewa kolumna); używane tam funkcje sklejane opisane są w <a class="http" href="http://fatcat.ftj.agh.edu.pl/%7Echwiej/mn/interpolacja.pdf">wykładzie o interpolacji tego samego autora</a> (slajdy 28-33).  <span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span></p><ul><li><p class="line862">Program powinien czytać tekstowy plik zawierający dane pomiarowe w postaci x<sub>0</sub>,y<sub>0</sub>,x<sub>1</sub>,y<sub>1</sub>,...x<sub>n-1</sub>,y<sub>n-1</sub> <span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span></p></li><li class="gap">Program powinien tworzyć plik wyjściowy zawierający współczynniki funkcji sklejanej aproksymującej dane pomiarowe <span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span></li><li class="gap"><p class="line862">Jeżeli
 użytkownik tego wymaga, program powinien także stworzyć plik 
zawierający dane umożliwiające narysowanie funkcji aproksymującej (np. <a class="http" href="http://t16web.lanl.gov/Kawano/gnuplot/intro/index-e.html">programem gnuplot</a>). <span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span></p></li><li class="gap">Program
 powinien mieć tekstowy interfejs i być sterowany za pomocą argumentów 
linii poleceń. Niedopuszczalny jest dialog programu z użytkownikiem. <span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span></li><li class="gap">Program powinien poprawnie obsługiwać błędne dane. <span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span></li></ul><p class="line867"></p><hr><p class="line874">  <span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span></p><p class="line867">
</p><h5 id="Projektowanie_programu">Projektowanie programu</h5>
<span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><p class="line874">Aby
 rozpocząć projektowanie programu powinniśmy przede wszystkim dobrze 
zrozumieć, na czym polega problem, który mamy rozwiązać. Wyobraźmy sobie
 zestaw pomiarów otrzymanych na jakichś zajęciach laboratoryjnych. Na 
przykład załóżmy, że celem pomiarów było ustalenie charakterystyki 
nagrzewania wody w zbiorniku i efektem godzinnych pomiarów była lista 
zawierająca wartość temperatury w kolejnych minutach (pomiar wykonywany 
co 3 minuty): <span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span></p><pre><span class="anchor" id="line-1-1"></span>0       0,0
<span class="anchor" id="line-2"></span>3       4,0
<span class="anchor" id="line-3"></span>6       8,3
<span class="anchor" id="line-4"></span>9       11,6
<span class="anchor" id="line-5"></span>12      15,2
<span class="anchor" id="line-6"></span>15      17,2
<span class="anchor" id="line-7"></span>18      21,9
<span class="anchor" id="line-8"></span>21      25,0
<span class="anchor" id="line-9"></span>24      28,0
<span class="anchor" id="line-10"></span>27      34,1
<span class="anchor" id="line-11"></span>30      33,7
<span class="anchor" id="line-12"></span>33      36,4
<span class="anchor" id="line-13"></span>36      38,9
<span class="anchor" id="line-14"></span>39      41,4
<span class="anchor" id="line-15"></span>42      41,7
<span class="anchor" id="line-16"></span>45      46,0
<span class="anchor" id="line-17"></span>48      48,2
<span class="anchor" id="line-18"></span>51      50,3
<span class="anchor" id="line-19"></span>54      72,3
<span class="anchor" id="line-20"></span>57      54,2
<span class="anchor" id="line-21"></span>60      56,0</pre><span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><p class="line862">Gdybyśmy chcieli przedstawić te dane w formie wykresu, to na przykład użycie programu <a class="nonexistent" href="http://wikidyd.iem.pw.edu.pl/OpenOffice">OpenOffice</a> Calc pozwoli otrzymać coś takiego: <span class="anchor" id="line-91"></span></p><ul><li style="list-style-type:none"><p class="line891"><img alt="wykres.png" class="attachment" src="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/10.png" title="wykres.png">  <span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span></p></li></ul><p class="line874">Co
 pozwala odczytać pewną tendencję, ale zostało zapewne dość poważnie 
zniekształcone przez błędy pomiarowe - choćby ten z 54 minuty. <span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span></p><p class="line874">Wyobraźmy sobie teraz, że mamy dane przedstawione na kolejnym rysunku: <span class="anchor" id="line-96"></span></p><ul><li style="list-style-type:none"><p class="line891"><img alt="dane.1.png" class="attachment" src="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/10_003.png" title="dane.1.png">  <span class="anchor" id="line-97"></span></p></li></ul><p class="line874">i
 chcemy napisać program, który pozwoli aproksymować te punkty funkcją, 
której postać możemy kontrolować - na przykład zielony wykres na 
kolejnym rysunku: <span class="anchor" id="line-98"></span></p><ul><li style="list-style-type:none"><p class="line891"><img alt="dane.1.approx.png" class="attachment" src="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/10_006.png" title="dane.1.approx.png">  <span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span></p></li></ul><p class="line874">Po
 tym wstępie możemy już przejść do projektowania programu: przede 
wszystkim będziemy potrzebowali źródła danych testowych. Aby rozwiązać 
ten problem możemy napisać prosty generator: <span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span><span class="anchor" id="line-1-2"></span></p><div class="highlight cpp"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c)) {
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    var n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        var a = document.createElement('A');
        s.className = 'LineNumber';
        a.appendChild(document.createTextNode(nformat(n,4,'')));
        a.href = '#' + did + '_' + n;
        s.appendChild(a);
        s.appendChild(document.createTextNode(' '));
        n += nstep;
        if (l.childNodes.length) {
          l.insertBefore(s, l.firstChild);
        }
        else {
          l.appendChild(s);
        }
      }
      l = l.nextSibling;
    }
  }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c)) {
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="#" onclick="return togglenumber('CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5', 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_1">   1</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_1"></span><span class="anchor" id="line-1-3"></span><span class="Preprc">#</span><span class="Preprc">include &lt;stdio.h&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_2">   2</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_2"></span><span class="anchor" id="line-2-1"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include &lt;stdlib.h&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_3">   3</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_3"></span><span class="anchor" id="line-3-1"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include &lt;math.h&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_4">   4</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_4"></span><span class="anchor" id="line-4-1"></span><span class="Preprc"></span><span class="Preprc">#</span><span class="Preprc">include &lt;time.h&gt;</span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_5">   5</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_5"></span><span class="anchor" id="line-5-1"></span><span class="Preprc"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_6">   6</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_6"></span><span class="anchor" id="line-6-1"></span><span class="ResWord">double</span> <span class="ID">fun</span>( <span class="ResWord">double</span> <span class="ID">x</span> ) {</span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_7">   7</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_7"></span><span class="anchor" id="line-7-1"></span>        <span class="ResWord">double</span> <span class="ID">r</span>= ((<span class="ResWord">double</span>)<span class="ID">rand</span>() - <span class="ID">RAND_MAX</span>/<span class="Number">2.0</span>)/<span class="ID">RAND_MAX</span>/<span class="Number">5</span>; <span class="Comment">// +-10%</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_8">   8</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_8"></span><span class="anchor" id="line-8-1"></span><span class="Comment"></span>        <span class="ResWord">return</span> (<span class="Number">1</span>+<span class="ID">r</span>)*(<span class="Number">10</span>*<span class="ID">x</span>*<span class="ID">x</span>*<span class="ID">x</span>*<span class="ID">x</span>+<span class="Number">5</span>*<span class="ID">x</span>*<span class="ID">x</span>*<span class="ID">x</span>+<span class="ID">x</span>*<span class="ID">x</span>);</span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_9">   9</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_9"></span><span class="anchor" id="line-9-1"></span>}</span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_10">  10</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_10"></span><span class="anchor" id="line-10-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_11">  11</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_11"></span><span class="anchor" id="line-11-1"></span><span class="ResWord">int</span> <span class="ID">main</span>( <span class="ResWord">int</span> <span class="ID">argc</span>, <span class="ResWord">char</span> **<span class="ID">argv</span> ) {</span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_12">  12</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_12"></span><span class="anchor" id="line-12-1"></span>        <span class="ResWord">int</span> <span class="ID">n</span>= <span class="ID">argc</span> &gt; <span class="Number">1</span> ? <span class="ID">atoi</span>( <span class="ID">argv</span>[<span class="Number">1</span>] ) : <span class="Number">100</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_13">  13</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_13"></span><span class="anchor" id="line-13-1"></span>        <span class="ResWord">double</span> <span class="ID">a</span>= <span class="ID">argc</span> &gt; <span class="Number">2</span> ? <span class="ID">atof</span>( <span class="ID">argv</span>[<span class="Number">2</span>] ) : -<span class="Number">3</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_14">  14</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_14"></span><span class="anchor" id="line-14-1"></span>        <span class="ResWord">double</span> <span class="ID">b</span>= <span class="ID">argc</span> &gt; <span class="Number">3</span> ? <span class="ID">atof</span>( <span class="ID">argv</span>[<span class="Number">3</span>] ) : <span class="Number">2</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_15">  15</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_15"></span><span class="anchor" id="line-15-1"></span>        <span class="ID">FILE</span> *<span class="ID">out</span>= <span class="ID">argc</span> &gt; <span class="Number">4</span> ? <span class="ID">fopen</span>( <span class="ID">argv</span>[<span class="Number">4</span>], <span class="String">"</span><span class="String">w</span><span class="String">"</span> ) : <span class="ID">stdout</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_16">  16</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_16"></span><span class="anchor" id="line-16-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_17">  17</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_17"></span><span class="anchor" id="line-17-1"></span>        <span class="ID">srand</span>( <span class="ID">argc</span> &gt; <span class="Number">5</span> ? <span class="ID">atoi</span>(<span class="ID">argv</span>[<span class="Number">5</span>]) : <span class="ID">time</span>(<span class="ResWord">NULL</span>) );</span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_18">  18</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_18"></span><span class="anchor" id="line-18-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_19">  19</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_19"></span><span class="anchor" id="line-19-1"></span>        <span class="ResWord">int</span> <span class="ID">i</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_20">  20</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_20"></span><span class="anchor" id="line-20-1"></span>        <span class="ResWord">double</span> <span class="ID">dx</span> = (<span class="ID">b</span>-<span class="ID">a</span>)/(<span class="ID">n</span>-<span class="Number">1</span>);</span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_21">  21</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_21"></span><span class="anchor" id="line-21-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_22">  22</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_22"></span><span class="anchor" id="line-22-1"></span>        <span class="ResWord">for</span>( <span class="ID">i</span> =<span class="Number">0</span>; <span class="ID">i</span> &lt; <span class="ID">n</span>; <span class="ID">i</span>++ ) {</span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_23">  23</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_23"></span><span class="anchor" id="line-23-1"></span>                <span class="ID">fprintf</span>( <span class="ID">out</span>, <span class="String">"</span><span class="String">%g %g</span><span class="SPChar">\n</span><span class="String">"</span>, <span class="ID">a</span>+<span class="ID">i</span>*<span class="ID">dx</span>, <span class="ID">fun</span>(<span class="ID">a</span>+<span class="ID">i</span>*<span class="ID">dx</span>) );</span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_24">  24</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_24"></span><span class="anchor" id="line-24-1"></span>        }</span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_25">  25</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_25"></span><span class="anchor" id="line-25-1"></span>        <span class="ID">fclose</span>( <span class="ID">out</span> );</span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_26">  26</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_26"></span><span class="anchor" id="line-26-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_27">  27</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_27"></span><span class="anchor" id="line-27-1"></span>        <span class="ResWord">return</span> <span class="Number">0</span>;</span>
<span class="line"><span class="LineNumber"><a href="#CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_28">  28</a> </span><span class="LineAnchor" id="CA-c610d6886046ae7e2fdc1a482464cbbe9b80b9c5_28"></span><span class="anchor" id="line-28-1"></span>}</span>
</pre></div></div><span class="anchor" id="line-131"></span><span class="anchor" id="line-132"></span><p class="line874">Wyposażeni w źródło danych możemy teraz zająć się naszym programem. Podzielimy go na kilka modułów: <span class="anchor" id="line-133"></span></p><ul><li>Points (points.h i points.c) zajmie się przechowywaniem punktów pomiarowych, <span class="anchor" id="line-134"></span></li><li><p class="line862">Splines
 (splines.h i splines.c) będzie odpowiadał za przechowywanie 
aproksymacji - wykorzystamy do tego funkcje sklejane, czyli wielomiany 
niskich rzędów zdefiniowane na pod-przedziałach interesującego nas 
zakresu. Wykorzystując <a class="http" href="http://pl.wikipedia.org/wiki/Wz%C3%B3r_Taylora">wzór Taylora</a> będziemy reprezentować wielomian w każdym przedziale przez wartość funkcji i jej pochodnych na początku przedziału. <span class="anchor" id="line-135"></span></p></li><li>Main (main.c) będzie odpowiadał za sterowanie - odczytywał intencje użytkownika i wywoływał pozostałe moduły. <span class="anchor" id="line-136"></span></li><li>Maker będzie generował aproksymację na podstawie punktów. <span class="anchor" id="line-137"></span><span class="anchor" id="line-138"></span></li></ul><p class="line874">We
 właściwie napisanym programie będziemy w stanie dość łatwo wymieniać 
najbardziej interesujący moduł, a więc Maker. W kodzie, który Państwo 
otrzymujecie znajdują się trzy przykładowe Makery: <span class="anchor" id="line-139"></span></p><ul><li>prosta.c - aproksymuje wszystkie punkty za pomocą jednej prostej przechodzącej przez pierwszy i ostatni punkt <span class="anchor" id="line-140"></span></li><li><p class="line862">interpolator.c - interpoluje punkty za pomocą <a class="http" href="http://pl.wikipedia.org/wiki/Interpolacja_wielomianowa">wielomianu Lagrange'a</a> <span class="anchor" id="line-141"></span></p></li><li>aproksymator_na_bazie.c
 - aproksymuje punkty przez minimalizację błędu średnio-kwadratowego za 
pomocą zespołu funkcji bazowych opisanych przed dr. Chwieja (patrz 
wyżej). <span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span></li></ul><p class="line874">Wszystkie Makery mają ten samy interfejs (makespl.h), co pozwala łatwo wymieniać je przy niezmienionym pozostałym kodzie. <span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span></p><p class="line862">Interpolator
 i aproksymator wykonują zadanie przez sformułowanie i rozwiązanie 
układu równań. Wykorzystują w tym celu prostą bibliotekę zawartą w 
katalogu gaus i implementującą <a class="http" href="http://en.wikipedia.org/wiki/Gaussian_elimination">algorytm eliminacji Gaussa</a> z <a class="http" href="http://en.wikipedia.org/wiki/Pivot_element">wyborem elementu dominującego</a>. <span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span></p><p class="line867">
</p><h5 id="Praca_z_kodem">Praca z kodem</h5>
<span class="anchor" id="line-148"></span><span class="anchor" id="line-149"></span><p class="line862">Przede
 wszystkim powinni Państwo przeanalizować go i zrozumieć. Nie jest go 
bardzo dużo (łącznie niecałe 700 linii + niecałe 500 linii w katalogu 
gaus), ale zobaczycie, że zadanie nie jest trywialne <img alt=";-)" src="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/smile4.png" title=";-)" height="15" width="15"> Może być potrzebne tłumaczenie prowadzącego - nie wahajcie się o nie prosić. <span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span></p><p class="line874">Kod
 nie jest idealny - można go w wielu miejscach ulepszyć i Waszym 
zadaniem będzie także wskazanie takich miejsc. Pozwoli to łatwo 
sprawdzić, czy naprawdę go rozumiecie. <span class="anchor" id="line-152"></span><span class="anchor" id="line-153"></span></p><p class="line867"><strong>Jak uruchomić program?</strong> <span class="anchor" id="line-154"></span>Po ściągnięciu kodu powinniście mieć katalog z następującą zawartością: <span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span></p><pre><span class="anchor" id="line-1-2"></span>oer:~/tmp/lmp10/gr1&gt; ls
<span class="anchor" id="line-2-1"></span>aproksymator_na_bazie.c  gaus  interpolator.c  main.c  Makefile  makespl.h  points.c  points.h  prosta.c  splines.c  splines.h  test
<span class="anchor" id="line-3-1"></span>oer:~/tmp/lmp10/gr1&gt;</pre><span class="anchor" id="line-160"></span><p class="line874">Po pierwsze kompilujemy bibliotekę gaus: <span class="anchor" id="line-161"></span><span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span><span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span></p><pre><span class="anchor" id="line-1-3"></span>oer:~/tmp/lmp10/gr1&gt; cd gaus
<span class="anchor" id="line-2-2"></span>oer:~/tmp/lmp10/gr1/gaus&gt; make
<span class="anchor" id="line-3-2"></span>cc    -c -o matrix.o matrix.c
<span class="anchor" id="line-4-1"></span>cc    -c -o pivot.o pivot.c
<span class="anchor" id="line-5-1"></span>cc    -c -o piv_ge_solver.o piv_ge_solver.c
<span class="anchor" id="line-6-1"></span>ar rvs libge.a matrix.o pivot.o piv_ge_solver.o
<span class="anchor" id="line-7-1"></span>ar: creating libge.a
<span class="anchor" id="line-8-1"></span>a - matrix.o
<span class="anchor" id="line-9-1"></span>a - pivot.o
<span class="anchor" id="line-10-1"></span>a - piv_ge_solver.o
<span class="anchor" id="line-11-1"></span>oer:~/tmp/lmp10/gr1/gaus&gt;</pre><span class="anchor" id="line-174"></span><p class="line874">teraz możemy już skompilować aproksymator <span class="anchor" id="line-175"></span><span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span><span class="anchor" id="line-180"></span><span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span></p><pre><span class="anchor" id="line-1-4"></span>oer:~/tmp/lmp10/gr1/gaus&gt; cd ..
<span class="anchor" id="line-2-3"></span>oer:~/tmp/lmp10/gr1&gt; make
<span class="anchor" id="line-3-3"></span>cc    -c -o main.o main.c
<span class="anchor" id="line-4-2"></span>cc    -c -o splines.o splines.c
<span class="anchor" id="line-5-2"></span>cc    -c -o points.o points.c
<span class="anchor" id="line-6-2"></span>cc -I gaus -c aproksymator_na_bazie.c
<span class="anchor" id="line-7-2"></span>cc -o aprox  main.o splines.o points.o aproksymator_na_bazie.o -L gaus -l ge
<span class="anchor" id="line-8-2"></span>oer:~/tmp/lmp10/gr1&gt;</pre><span class="anchor" id="line-185"></span><p class="line874">i uruchomić go: <span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span><span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span><span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span><span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span><span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span></p><pre><span class="anchor" id="line-1-5"></span>oer:~/tmp/lmp10/gr1&gt; ./aprox
<span class="anchor" id="line-2-4"></span>Usage: ./aprox -s spline-file [-p points-file] [ -g gnuplot-file [-f from_x -t to_x -n n_points ] ]
<span class="anchor" id="line-3-4"></span>            if points-file is given then
<span class="anchor" id="line-4-3"></span>               reads discrete 2D points from points-file
<span class="anchor" id="line-5-3"></span>               writes spline approximation to spline-file
<span class="anchor" id="line-6-3"></span>               - number of points should be &gt;= 4
<span class="anchor" id="line-7-3"></span>            else (points-file not given)
<span class="anchor" id="line-8-3"></span>               reads spline from spline-file
<span class="anchor" id="line-9-2"></span>            endfi
<span class="anchor" id="line-10-2"></span>            if gnuplot-file is given then
<span class="anchor" id="line-11-2"></span>               makes table of n_points within &lt;from_x,to_x&gt; range
<span class="anchor" id="line-12-1"></span>               - from_x defaults to x-coordinate of the first point in points-file,
<span class="anchor" id="line-13-1"></span>               - to_x defaults to x-coordinate of the last point
<span class="anchor" id="line-14-1"></span>               - n_points defaults to 100
<span class="anchor" id="line-15-1"></span>               - n_points must be &gt; 1
<span class="anchor" id="line-16-1"></span>            endif
<span class="anchor" id="line-17-1"></span>oer:~/tmp/lmp10/gr1&gt;</pre><span class="anchor" id="line-205"></span><p class="line874">Korzystając z powyższych wskazówek uruchamiamy program z danymi testowymi: <span class="anchor" id="line-206"></span><span class="anchor" id="line-207"></span><span class="anchor" id="line-208"></span></p><pre><span class="anchor" id="line-1-6"></span>./aprox -s spl -p test/dane.1 -g myplot -f 5.1 -t 5.7 -n 300</pre><span class="anchor" id="line-209"></span><p class="line874">otrzymując: <span class="anchor" id="line-210"></span></p><ul><li>plik spl zawierający definicję spline'u składającego się z 10 segmentów (taka jest domyślna liczba f. bazowych), <span class="anchor" id="line-211"></span></li><li>plik myplot zawierający 300 punktów pokazujących funkcję aproksymującą w zakresie od 5.1 do 5.7. <span class="anchor" id="line-212"></span></li></ul><p class="line874">Możemy narysować dane i nasz wykres: <span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><span class="anchor" id="line-219"></span><span class="anchor" id="line-220"></span><span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span><span class="anchor" id="line-223"></span><span class="anchor" id="line-224"></span><span class="anchor" id="line-225"></span><span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span><span class="anchor" id="line-228"></span><span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span><span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span><span class="anchor" id="line-233"></span></p><pre><span class="anchor" id="line-1-7"></span>oer:~/tmp/lmp10/gr1&gt; gnuplot
<span class="anchor" id="line-2-5"></span>
<span class="anchor" id="line-3-5"></span>        G N U P L O T
<span class="anchor" id="line-4-4"></span>        Version 4.2 patchlevel 5
<span class="anchor" id="line-5-4"></span>        last modified Mar 2009
<span class="anchor" id="line-6-4"></span>        System: Linux 2.6.31.14-0.6-desktop
<span class="anchor" id="line-7-4"></span>
<span class="anchor" id="line-8-4"></span>        Copyright (C) 1986 - 1993, 1998, 2004, 2007 - 2009
<span class="anchor" id="line-9-3"></span>        Thomas Williams, Colin Kelley and many others
<span class="anchor" id="line-10-3"></span>
<span class="anchor" id="line-11-3"></span>        Type `help` to access the on-line reference manual.
<span class="anchor" id="line-12-2"></span>        The gnuplot FAQ is available from http://www.gnuplot.info/faq/
<span class="anchor" id="line-13-2"></span>
<span class="anchor" id="line-14-2"></span>        Send bug reports and suggestions to &lt;http://sourceforge.net/projects/gnuplot&gt;
<span class="anchor" id="line-15-2"></span>
<span class="anchor" id="line-16-2"></span>
<span class="anchor" id="line-17-2"></span>Terminal type set to 'x11'
<span class="anchor" id="line-18-1"></span>gnuplot&gt; plot 'test/dane.1', 'myplot'
<span class="anchor" id="line-19-1"></span>gnuplot&gt;</pre><span class="anchor" id="line-234"></span><p class="line874">Otrzymamy rysunek  <span class="anchor" id="line-235"></span><img alt="gnuplot.png" class="attachment" src="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/10_002.png" title="gnuplot.png"> <span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span></p><p class="line874">Wykorzystując plik spl możemy rysować aproksymację dla innych przedziałów nie korzystając już z punktów: <span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span><span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span><span class="anchor" id="line-246"></span><span class="anchor" id="line-247"></span><span class="anchor" id="line-248"></span><span class="anchor" id="line-249"></span><span class="anchor" id="line-250"></span><span class="anchor" id="line-251"></span><span class="anchor" id="line-252"></span><span class="anchor" id="line-253"></span><span class="anchor" id="line-254"></span><span class="anchor" id="line-255"></span><span class="anchor" id="line-256"></span><span class="anchor" id="line-257"></span><span class="anchor" id="line-258"></span></p><pre><span class="anchor" id="line-1-8"></span>oer:~/tmp/lmp10/gr1&gt; ./aprox -s spl  -g innyplot -f 5.6 -t 5.997 -n 300
<span class="anchor" id="line-2-6"></span>oer:~/tmp/lmp10/gr1&gt; gnuplot
<span class="anchor" id="line-3-6"></span>
<span class="anchor" id="line-4-5"></span>        G N U P L O T
<span class="anchor" id="line-5-5"></span>        Version 4.2 patchlevel 5
<span class="anchor" id="line-6-5"></span>        last modified Mar 2009
<span class="anchor" id="line-7-5"></span>        System: Linux 2.6.31.14-0.6-desktop
<span class="anchor" id="line-8-5"></span>
<span class="anchor" id="line-9-4"></span>        Copyright (C) 1986 - 1993, 1998, 2004, 2007 - 2009
<span class="anchor" id="line-10-4"></span>        Thomas Williams, Colin Kelley and many others
<span class="anchor" id="line-11-4"></span>
<span class="anchor" id="line-12-3"></span>        Type `help` to access the on-line reference manual.
<span class="anchor" id="line-13-3"></span>        The gnuplot FAQ is available from http://www.gnuplot.info/faq/
<span class="anchor" id="line-14-3"></span>
<span class="anchor" id="line-15-3"></span>        Send bug reports and suggestions to &lt;http://sourceforge.net/projects/gnuplot&gt;
<span class="anchor" id="line-16-3"></span>
<span class="anchor" id="line-17-3"></span>
<span class="anchor" id="line-18-2"></span>Terminal type set to 'x11'
<span class="anchor" id="line-19-2"></span>gnuplot&gt;  plot 'myplot', 'innyplot'</pre><span class="anchor" id="line-259"></span><span class="anchor" id="line-260"></span><p class="line874">Rysunek: <span class="anchor" id="line-261"></span><span class="anchor" id="line-262"></span></p><p class="line867"><img alt="gnuplot2.png" class="attachment" src="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/10_004.png" title="gnuplot2.png"> <span class="anchor" id="line-263"></span><span class="anchor" id="line-264"></span></p><p class="line874">Przyjemną
 cechą funkcji sklejanych jest możliwość dopasowania bazy. Mniejsza 
liczba funkcji bazowych oznacza prostszą funkcję, choć zapewne 
odwzorowującą dane z większym błędem. Popatrzmy na aproksymację z 
wykorzystaniem nie 10, a tylko 3 funkcji bazowych: <span class="anchor" id="line-265"></span><span class="anchor" id="line-266"></span><span class="anchor" id="line-267"></span><span class="anchor" id="line-268"></span><span class="anchor" id="line-269"></span><span class="anchor" id="line-270"></span><span class="anchor" id="line-271"></span><span class="anchor" id="line-272"></span><span class="anchor" id="line-273"></span><span class="anchor" id="line-274"></span><span class="anchor" id="line-275"></span><span class="anchor" id="line-276"></span><span class="anchor" id="line-277"></span><span class="anchor" id="line-278"></span><span class="anchor" id="line-279"></span><span class="anchor" id="line-280"></span><span class="anchor" id="line-281"></span><span class="anchor" id="line-282"></span><span class="anchor" id="line-283"></span><span class="anchor" id="line-284"></span><span class="anchor" id="line-285"></span><span class="anchor" id="line-286"></span></p><pre><span class="anchor" id="line-1-9"></span>oer:~/tmp/lmp10/gr1&gt; export APPROX_BASE_SIZE=3
<span class="anchor" id="line-2-7"></span>oer:~/tmp/lmp10/gr1&gt; ./aprox -s spl -p test/dane.1 -g 3spl
<span class="anchor" id="line-3-7"></span>oer:~/tmp/lmp10/gr1&gt; gnuplot
<span class="anchor" id="line-4-6"></span>
<span class="anchor" id="line-5-6"></span>        G N U P L O T
<span class="anchor" id="line-6-6"></span>        Version 4.2 patchlevel 5
<span class="anchor" id="line-7-6"></span>        last modified Mar 2009
<span class="anchor" id="line-8-6"></span>        System: Linux 2.6.31.14-0.6-desktop
<span class="anchor" id="line-9-5"></span>
<span class="anchor" id="line-10-5"></span>        Copyright (C) 1986 - 1993, 1998, 2004, 2007 - 2009
<span class="anchor" id="line-11-5"></span>        Thomas Williams, Colin Kelley and many others
<span class="anchor" id="line-12-4"></span>
<span class="anchor" id="line-13-4"></span>        Type `help` to access the on-line reference manual.
<span class="anchor" id="line-14-4"></span>        The gnuplot FAQ is available from http://www.gnuplot.info/faq/
<span class="anchor" id="line-15-4"></span>
<span class="anchor" id="line-16-4"></span>        Send bug reports and suggestions to &lt;http://sourceforge.net/projects/gnuplot&gt;
<span class="anchor" id="line-17-4"></span>
<span class="anchor" id="line-18-3"></span>
<span class="anchor" id="line-19-3"></span>Terminal type set to 'x11'
<span class="anchor" id="line-20-1"></span>gnuplot&gt; plot 'test/dane.1', '3spl'</pre><span class="anchor" id="line-287"></span><span class="anchor" id="line-288"></span><p class="line867"><img alt="3spl.png" class="attachment" src="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/10_005.png" title="3spl.png"> <span class="anchor" id="line-289"></span><span class="anchor" id="line-290"></span><span class="anchor" id="line-291"></span></p><p class="line867">
</p><h5 id="Zadanie_na_zaliczenie">Zadanie na zaliczenie</h5>
<span class="anchor" id="line-292"></span><span class="anchor" id="line-293"></span><p class="line874">Zadawane przez prowadzącego, na przykład: <span class="anchor" id="line-294"></span></p><ul><li><p class="line862">dopisanie
 kolejnego aproksymatora - na przykład używającego pojedynczego 
wielomianu niskiego stopnia (2-4), funkcji trygonometrycznych, <a class="http" href="http://en.wikipedia.org/wiki/Weighted_least_squares">ważonych najmniejszych kwadratów</a> <span class="anchor" id="line-295"></span></p></li><li><p class="line862">wymiana narzędzia używanego do rozwiązywania układu równań (na <a class="http" href="http://www.netlib.org/clapack/faq.html">clapack</a>, <a class="http" href="http://www.gnu.org/s/gsl/">gsl</a>, ...) <span class="anchor" id="line-296"></span></p></li><li><p class="line862">opracowanie programu od początku z wykorzystaniem gotowej biblioteki aproksymującej - np <a class="http" href="http://www.gnu.org/s/gsl/manual/html_node/Chebyshev-Approximations.html">wielomianów Czebyszewa z gsl</a> <span class="anchor" id="line-297"></span><span class="anchor" id="line-298"></span><span class="anchor" id="line-299"></span></p></li></ul><p class="line867"></p><hr class="hr4"><p class="line874"> <span class="anchor" id="line-300"></span>To już prawie wszystko, ale nie wolno nam zapomnieć, że <span class="anchor" id="line-301"></span></p><div><table><tbody><tr>  <td style="border-width: 0px; ; width: 66%"><p class="line862">materiały zostały opracowane w ramach realizacji Programu Rozwojowego Politechniki Warszawskiej. </p></td>
  <td style="border-width: 0px;  text-align: right;"><p class="line862"> <img alt="http://prpw.iem.pw.edu.pl/images/KAPITAL_LUDZKI.gif" class="external_image" src="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/KAPITAL_LUDZKI.gif" title="http://prpw.iem.pw.edu.pl/images/KAPITAL_LUDZKI.gif"> <img alt="http://prpw.iem.pw.edu.pl/images/EU+EFS_P-kolor.gif" class="external_image" src="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/EUEFS_P-kolor.gif" title="http://prpw.iem.pw.edu.pl/images/EU+EFS_P-kolor.gif"> </p></td>
</tr>
<tr>  <td colspan="2" style="border-width: 0px;  text-align: center;"><span class="anchor" id="line-302"></span><p class="line891"><small><a class="http" href="http://www.pr.pw.edu.pl/"><img alt="http://www.pr.pw.edu.pl/" class="external_image" src="LMP_10%20-%20wikidyd%20-%20IETiSIP,%20Wydzial%20Elektryczny%20Politechniki%20Warszawskiej_files/small_logo_prpw.jpg" title="http://www.pr.pw.edu.pl/"></a> jest projektem współfinansowanym przez Unię Europejską w ramach <a class="http" href="http://www.efs.gov.pl/">Europejskiego Funduszu społecznego</a>
 (działanie 4.1.1 Programu Operacyjnego Kapitał Ludzki) i ma na celu 
poprawę jakości kształcenia oraz dostosowanie oferty dydaktycznej 
Politechniki Warszawskiej do potrzeb rynku pracy. Będzie on realizowany 
przez Uczelnię w latach 2008-2015.</small> </p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-303"></span><span class="anchor" id="bottom"></span></div><p id="pageinfo" class="info" dir="ltr" lang="en">wikidyd - IETiSIP, Wydzial Elektryczny Politechniki Warszawskiej: LMP/10  (last edited 2012-12-03 14:21:36 by <span title="JacekStarzyński @ oer.iem.pw.edu.pl[194.29.146.107]"><a href="http://wikidyd.iem.pw.edu.pl/JacekStarzy%C5%84ski" title="JacekStarzyński @ oer.iem.pw.edu.pl[194.29.146.107]">JacekStarzyński</a></span>)</p>

<div id="pagebottom"></div>
</div>


<div id="footer">
<ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>



</body><div data="{&quot;a&quot;:&quot;removeSmallDiv&quot;}" style="display:none" id="sp_console_event"></div></html>